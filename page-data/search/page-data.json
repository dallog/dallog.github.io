{"componentChunkName":"component---src-pages-search-jsx","path":"/search/","result":{"data":{"allMarkdownRemark":{"nodes":[{"excerpt":"ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ 'ë‚˜ì¸'ì´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ğŸ¯ \"ë¬´í•œ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í•´ë³´ì„¸ìš”!\" ì–´ë–»ê²Œ êµ¬í˜„í•˜ì‹¤ ê±´ê°€ìš”? ë¬´í•œ ìŠ¤í¬ë¡¤ì„ ì²˜ìŒ ë§ˆì£¼í–ˆì„ë•Œ ğŸ¤” ì €ëŠ” ì²˜ìŒ ë¬´í•œ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ì„ ì‚¬ìš©í–ˆì–´ìš”. scroll event ì‚¬ìš©í•˜ê¸° ìš°í…Œì½” ë ˆë²¨1 ìœ íŠœë¸Œ ë¯¸ì…˜ ì²˜ìŒ ì œê°€ ë¬´í•œ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í–ˆë˜ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ë°”ë¡œ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ì™€ â€¦","fields":{"slug":"/infinite-scroll/"},"frontmatter":{"date":"July 18, 2022","title":"Reactì—ì„œ ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„í•˜ê¸°","tags":["react"]},"rawMarkdownBody":"\n> ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ '[ë‚˜ì¸](https://github.com/jhy979)'ì´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\n\nğŸ¯ \"ë¬´í•œ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í•´ë³´ì„¸ìš”!\"\n\nì–´ë–»ê²Œ êµ¬í˜„í•˜ì‹¤ ê±´ê°€ìš”?\n\n## ë¬´í•œ ìŠ¤í¬ë¡¤ì„ ì²˜ìŒ ë§ˆì£¼í–ˆì„ë•Œ\n\nğŸ¤” ì €ëŠ” ì²˜ìŒ ë¬´í•œ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ì„ ì‚¬ìš©í–ˆì–´ìš”.\n\n```\n1. scroll ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•œë‹¤.\n\n2. í˜„ì¬ ìŠ¤í¬ë¡¤ ì˜ì—­ì˜ `ìœ„ì¹˜ë¥¼ ê³„ì‚°`í•œë‹¤.\n\n3. ì˜ì—­ ê³„ì‚°ì„ í†µí•´ í˜ì´ì§€ ì•„ë˜ì— ìœ„ì¹˜í•˜ë©´ API ìš”ì²­ì„ ì§„í–‰í•œë‹¤.\n\n4. ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ì—¬ ë‹¤ì‹œ ë Œë”ë§í•œë‹¤.\n\n5. ë¬´í•œ ë°˜ë³µ\n```\n\n---\n## scroll event ì‚¬ìš©í•˜ê¸°\n\n[ìš°í…Œì½” ë ˆë²¨1 ìœ íŠœë¸Œ ë¯¸ì…˜](https://github.dev/jhy979/javascript-youtube-classroom/tree/jhy979-step2)\n\nì²˜ìŒ ì œê°€ ë¬´í•œ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í–ˆë˜ ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\në°”ë¡œ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ì™€ offsetì„ ì´ìš©í•œ ë°©ì‹ì´ì£ !\n\n```js\n  scrollToBottom(callback) {\n    const isScrollBottom =\n      this.$videoList.scrollHeight - this.$videoList.scrollTop <=\n      this.$videoList.offsetHeight + EVENT.SCROLL.OFFSET;\n\n    if (isScrollBottom) {\n      callback(this.$searchInput.value);\n    }\n  }\n```\në©”ì„œë“œ ë„¤ì´ë°ì„ í†µí•´ì„œë„ ì•Œ ìˆ˜ ìˆë“¯ì´, í™”ë©´ í•˜ë‹¨ê¹Œì§€ ë‚´ë ¤ê°”ì„ ê²½ìš° (offset ì •ë„ë¥¼ ê°ì•ˆí•˜ì—¬) ì¸ìë¡œ ë°›ì€ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œì£¼ì—ˆìŠµë‹ˆë‹¤.\n\nì•„ ë¬¼ë¡ , ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ëŠ” ì›Œë‚™ ë§ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— throttleì„ ê±¸ì–´ì£¼ì—ˆìŠµë‹ˆë‹¤. (ì´ê±´ í•„ìˆ˜ì£ )\n\nğŸ˜¢ í•˜ì§€ë§Œ, `documentElement.scrollTop`, `documentElement.scrollHeight`, `documentElement.offsetHeight`ëŠ” ë¦¬í”Œë¡œìš°(Reflow)ê°€ ë°œìƒí•©ë‹ˆë‹¤.\n\ní™•ì‹¤íˆ ë¹„íš¨ìœ¨ì ì´ê² ì£ !\n\n---\n\n## IntersectionObserver ì‚¬ìš©í•˜ê¸°\n\në‹¬ë¡ì—ì„œëŠ” ë¬´í•œ ìŠ¤í¬ë¡¤ì„ êµ¬í˜„í•  ë•Œ [Intersection Observer](https://developer.mozilla.org/ko/docs/Web/API/Intersection_Observer_API)ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. \n\n> Intersection ObserverëŠ” ì‰½ê²Œ ë§í•´ ì§€ì •í•œ ëŒ€ìƒì´ í™”ë©´ì— ë³´ì´ëŠ”ì§€ ê°ì‹œí•˜ê³  íŒë‹¨í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.\n\në¸Œë¼ìš°ì € Viewportì™€ Targetìœ¼ë¡œ ì„¤ì •í•œ ìš”ì†Œì˜ êµì°¨ì ì„ ê´€ì°°í•˜ì—¬ ê·¸ Targetì´ Viewportì— í¬í•¨ë˜ëŠ”ì§€ êµ¬ë³„í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. \n\n<img src=\"https://velog.velcdn.com/images/jhy979/post/19500233-65fc-4ba9-b421-81516700c00b/image.png\" />\n\n\n### useIntersect ì»¤ìŠ¤í…€í›…\n\n> ê°€ì¥ ë¨¼ì € useIntersect ë¼ëŠ” ì»¤ìŠ¤í…€í›…ì„ ì œì‘í–ˆìŠµë‹ˆë‹¤. \n\nì´ ì»¤ìŠ¤í…€í›…ì€ `ì¸ìë¡œ intersectì‹œ ì‹¤í–‰í•  í•¨ìˆ˜`ë¥¼ ë°›ê³  `refë¥¼ ì œê³µ`í•˜ì—¬ ê´€ì°°í•  ëŒ€ìƒì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```ts\ntype IntersectHandler = (entry: IntersectionObserverEntry, observer: IntersectionObserver) => void;\n\n// ì¸ìë¡œ onIntersectì™€ optionsë¥¼ ë°›ìŠµë‹ˆë‹¤.\n// onIntersectëŠ” intersect ë°œìƒ ì‹œ ì‹¤í–‰í•˜ê³  ì‹¶ì€ í•¨ìˆ˜ì…ë‹ˆë‹¤.\nfunction useIntersect(onIntersect: IntersectHandler, options?: IntersectionObserverInit) {\n  // ê´€ì°°í•˜ê³  ì‹¶ì€ ì¹œêµ¬ë¥¼ ì¡ê¸° ìœ„í•´ refë¥¼ ë§Œë“¤ì–´ì£¼ì„¸ìš”.\n  const ref = useRef<HTMLDivElement>(null); \n  \n  // intersect ì‹œ ì‹¤í–‰í•  í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì¤ì‹œë‹¤.\n  const callback = useCallback(\n    (entries: IntersectionObserverEntry[], observer: IntersectionObserver) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          onIntersect(entry, observer);\n        }\n      });\n    },\n    [onIntersect]\n  );\n\n  // ğŸ”¨ ì˜µì €ë²„ì—ê²Œ ì¼ì„ ì‹œì¼œë´…ì‹œë‹¤.\n  useEffect(() => {\n    \n  \t// ìš°ë¦¬ê°€ ê´€ì°°í•˜ê³  ì‹¶ì€ ì¹œêµ¬ê°€ ì—†ìœ¼ë©´ ê·¸ëƒ¥ return í•´ë²„ë ¤ìš”.\n    if (!ref.current) {\n      return;\n    }\n\t\n    // ê´€ì°°í•  ëŒ€ìƒì´ ìˆìœ¼ë©´ ì˜µì €ë²„ ë°ê¼¬ ì™€ì•¼ì£ !\n    const observer = new IntersectionObserver(callback, options);\n\t\n    // ì´ ì˜µì €ë²„í•œí…Œ ê°ì‹œë¥¼ ì‹œí‚µì‹œë‹¤.\n    observer.observe(ref.current);\n\n    // í•  ì¼ ëë‚˜ë©´ ê³ ìƒí•œ ì˜µì €ë²„ë„ ì‰¬ê²Œ í•´ì¤ì‹œë‹¤!\n    return () => {\n      observer.disconnect();\n    };\n    \n  }, [ref, options, callback]);\n\n  return ref;\n}\n\nexport default useIntersect;\n```\n\n### ì‹¤ì œ ì‚¬ìš©\nuseIntersect ì»¤ìŠ¤í…€í›…ì„ ì˜ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ì´ì œ ì´ ì»¤ìŠ¤í…€í›…ì„ ë¬´í•œ ìŠ¤í¬ë¡¤ì— ì‚¬ìš©í•´ ë´…ì‹œë‹¤.\n\n![](https://velog.velcdn.com/images/jhy979/post/4643727c-852d-4f23-ab4f-44ce79e2e3b2/image.gif)\n\në‹¤ìŒì€ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ê³„ì† ë¶ˆëŸ¬ì™€ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.\n```tsx\nfunction CategoryList({ categoryList, getMoreCategories, hasNextPage }: CategoryListProps) {\n  \n  // useIntersect ì»¤ìŠ¤í…€í›…ì˜ ì¸ìë¡œ (êµì°¨ ì‹œ) ì‹¤í–‰í•  í•¨ìˆ˜ë¥¼ ë„£ì–´ì¤ì‹œë‹¤.\n  const ref = useIntersect(() => {\n    hasNextPage && getMoreCategories();\n  });\n\n  return (\n    <div css={categoryTable}>\n      <div css={categoryTableHeader}>\n        <span> ìƒì„± ë‚ ì§œ </span>\n        <span> ì¹´í…Œê³ ë¦¬ ì´ë¦„ </span>\n      </div>\n      \n      {categoryList.map((category) => (\n        <CategoryItem key={category.id} category={category} />\n      ))}\n      \n      // í˜ì´ì§€ í•˜ë‹¨ê¹Œì§€ ë‚´ë¦¬ë©´ ì´ ì¹œêµ¬ê°€ ë“±ì¥í•˜ì—¬ ì˜µì €ë²„ì—ê²Œ ê°ì§€ë  ê±°ì˜ˆìš”.\n      <div ref={ref} css={intersectTarget}></div>\n    </div>\n  );\n}\n\n```\nğŸ’ª ë¬´í•œ ìŠ¤í¬ë¡¤í•¨ì— ë”°ë¼ propsë¡œ ë°›ì•„ì˜¤ëŠ” categoryListê°€ ê¸¸ì–´ì§€ê²Œ ë í…ë°ìš”, ë‹¤í–‰íˆ Reactì—ì„œëŠ” keyê°’ìœ¼ë¡œ ë³€ê²½ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê¸° ë•Œë¬¸ì— ìƒˆë¡­ê²Œ ì¶”ê°€ëœ ë¦¬ìŠ¤íŠ¸ë“¤ë§Œ ë¦¬ë Œë”ë§í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.\n"},{"excerpt":"ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ 'ë§¤íŠ¸'ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. Git-flow git ë¸Œëœì¹˜ ì „ëµ ì¤‘ í•˜ë‚˜ì´ë‹¤, ì´ê²ƒì€ ì–´ë– í•œ ê¸°ëŠ¥ì„ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°©ë²•ë¡ ì´ë‹¤. ê°ê°ì˜ í”„ë¡œì íŠ¸ì™€ ê°œë°œ í™˜ê²½ì— ë”°ë¼ ì•Œë§ê²Œ ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì´ ê²Œì‹œê¸€ì€ gitì„ ì•Œê³  ì‚¬ìš©í•´ ë³¸ ê²½í—˜ì´ ìˆë‹¤ëŠ” ê²ƒì„ ì „ì œë¡œ ì‘ì„±í•˜ì˜€ë‹¤. ë˜í•œ ì§ì ‘ í”„ë¡œì íŠ¸ì— ì ìš©í•˜ê³  ì—°ìŠµí•˜ê³  ìˆê¸° ë•Œë¬¸ì— â€¦","fields":{"slug":"/git-branch-strategy/"},"frontmatter":{"date":"July 12, 2022","title":"ë‹¬ë¡íŒ€ì˜ git ë¸Œëœì¹˜ ì „ëµì„ ì†Œê°œí•©ë‹ˆë‹¤.","tags":["git","git-flow"]},"rawMarkdownBody":"\r\n> ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ '[ë§¤íŠ¸](https://github.com/hyeonic)'ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\r\n\r\n## Git-flow\r\n\r\ngit ë¸Œëœì¹˜ ì „ëµ ì¤‘ í•˜ë‚˜ì´ë‹¤, ì´ê²ƒì€ ì–´ë– í•œ ê¸°ëŠ¥ì„ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°©ë²•ë¡ ì´ë‹¤. ê°ê°ì˜ í”„ë¡œì íŠ¸ì™€ ê°œë°œ í™˜ê²½ì— ë”°ë¼ ì•Œë§ê²Œ ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©í•´ì•¼ í•œë‹¤.\r\n\r\nì´ ê²Œì‹œê¸€ì€ gitì„ ì•Œê³  ì‚¬ìš©í•´ ë³¸ ê²½í—˜ì´ ìˆë‹¤ëŠ” ê²ƒì„ ì „ì œë¡œ ì‘ì„±í•˜ì˜€ë‹¤. ë˜í•œ ì§ì ‘ í”„ë¡œì íŠ¸ì— ì ìš©í•˜ê³  ì—°ìŠµí•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì •ë‹µì´ ë  ìˆ˜ ì—†ê³ , ì§€ì†ì ìœ¼ë¡œ ê°œì„ í•  ì˜ˆì •ì´ë‹¤.\r\n\r\n## Git Repository\r\n\r\ní”„ë¡œì íŠ¸ì— ì ìš©í•˜ê¸° ì•ì„œ ì–´ë– í•œ í˜•íƒœë¡œ Git Repositoryê°€ êµ¬ì„±ë˜ëŠ”ì§€ ì‚´í´ë³´ì•˜ë‹¤.\r\n\r\n![](./git-repository.png)\r\n\r\n### Upstream Remote Repository\r\n\r\nê°œë°œìê°€ ê³µìœ í•˜ëŠ” ì €ì¥ì†Œë¡œ ìµœì‹  ì†ŒìŠ¤ì½”ë“œê°€ ì €ì¥ë˜ì–´ ìˆëŠ” ì›ê²© ì €ì¥ì†Œì´ë‹¤.\r\n\r\n#### ì ìš©í•˜ê¸°\r\n\r\nì´ëŸ¬í•œ Remote Repository ìƒì„±ì„ ìœ„í•˜ì—¬ githubì— New organizationì„ ì‚¬ìš©íˆì˜€ë‹¤.\r\n\r\n![](./new-organization.png)\r\n\r\në‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” Teamê³¼ EnterpriceëŠ” ì›”ë§ˆë‹¤ ì¼ì • ê¸ˆì•¡ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ ê°„ë‹¨í•œ í”„ë¡œì íŠ¸ ì§„í–‰ì„ ìœ„í•´ ìƒì„±í•˜ì˜€ê¸° ë•Œë¬¸ì— Freeë§Œ ì‚¬ìš©í•˜ì—¬ë„ ì¶©ë¶„í•œ ì‹¤ìŠµê³¼ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.\r\n\r\n![](./fare.png)\r\n\r\norganizationì„ ìƒì„±í•˜ê²Œ ë˜ë©´ ì†Œì†ëœ repositoryë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ì´ê²ƒì„ `Upstream Remote Repository`ë¡œ ì ìš©í•œë‹¤.\r\n\r\n### A's, B's, C's Origin Remote Repository\r\n\r\n`Upstream Repository`ë¥¼ Forkí•œ ì›ê²© ê°œì¸ ì €ì¥ì†Œì´ë‹¤. Upstream Repositoryë¥¼ ì§ì ‘ cloneí•˜ì—¬ ì‘ì—…í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê°ê°ì˜ íŒ€ì›ë“¤ì´ `Fork`ë¥¼ í•˜ì—¬ ì›ê²© ì €ì¥ì†Œë¥¼ ìƒì„±í•˜ê³  ê·¸ê²ƒì„ cloneí•˜ì—¬ `Local Repository`ë¥¼ ìƒì„±í•˜ì—¬ ì‘ì—…í•œë‹¤.\r\n\r\nì´ë ‡ê²Œ ë‘ ê°œì˜ remote repositoryë¡œ ë‚˜ëˆˆ ì´ìœ ëŠ” Upstream repositoryì˜ ê²½ìš° `íŒ€ì›ì´ ê³µìœ `í•˜ê³  ìˆëŠ” Repositoryì´ê¸° ë•Œë¬¸ì— ë‹¤ì–‘í•œ ì‹œë„ë¥¼ í•˜ê¸°ì— í° ìœ„í—˜ ë¶€ë‹´ì„ ê°€ì§€ê³  ìˆë‹¤. ê°ìì˜ ê°œì¸ repositoryì—ì„œ `ì‘ì—…ì„ ì‹œë„`í•œ í›„ ì ì ˆí•œ ê¸°ëŠ¥ merge í•˜ê¸° ìœ„í•´ `Pull Request`ë¥¼ ìš”ì²­í•œë‹¤.\r\n\r\n### ìš´ì˜ ë°©ì‹\r\n\r\ngit-flowëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 5ê°€ì§€ì˜ ë¸Œëœì¹˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš´ì˜í•œë‹¤.\r\n\r\n * `main`: ì œí’ˆìœ¼ë¡œ ì¶œì‹œë  ìˆ˜ ìˆëŠ” ë¸Œëœì¹˜\r\n * `develop`: ë‹¤ìŒ ì¶œì‹œ ë²„ì „ì„ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜\r\n * `feature`: ê¸°ëŠ¥ì„ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜\r\n * `release`: ì´ë²ˆ ì¶œì‹œ ë²„ì „ì„ ì¤€ë¹„í•˜ëŠ” ë¸Œëœì¹˜\r\n * `hotfix`: ì¶œì‹œ ë²„ì „ì—ì„œ ë°œìƒí•œ ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ëŠ” ë¸Œëœì¹˜\r\n\r\n![](./git-flow-dev.png)\r\n\r\n`main`ê³¼ `develop` ë¸Œëœì¹˜ì´ë‹¤. ë‘ ë¸Œëœì¹˜ëŠ” í•­ì‹œ ìš´ì˜ë˜ì–´ì•¼ í•˜ëŠ” ë¸Œëœì¹˜ì´ë‹¤. `develop`ëŠ” ê°œë°œì„ ìœ„í•œ ë¸Œëœì¹˜ì´ê³ , `main`ì€ ì œí’ˆìœ¼ë¡œ ì¶œì‹œë  ìˆ˜ ìˆëŠ” ë¸Œëœì¹˜ ì´ê¸° ë•Œë¬¸ì— `í•­ì‹œ ë°°í¬ ê°€ëŠ¥í•œ ìƒíƒœ`ì´ì–´ì•¼ í•œë‹¤.\r\n\r\n`main`ê³¼ `develop`ì€ `Upstream remote repository`ì—ì„œ ìš´ì˜í•œë‹¤.\r\n\r\n![](./git-flow-feature.png)\r\n\r\n`feature` ë¸Œëœì¹˜ëŠ” ë‹¨ìœ„ ê¸°ëŠ¥ì„ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜ì´ë‹¤. ê¸°ëŠ¥ ê°œë°œì´ ì™„ë£Œë˜ë©´ `develop` ë¸Œëœì¹˜ì™€ `merge` ëœë‹¤.\r\n\r\n`develop`ì€ ëª¨ë“  íŒ€ì›ì´ `ê³µìœ `í•˜ëŠ” ë¸Œëœì¹˜ì´ë‹¤. featureëŠ” ê°ì ë§¡ì•„ ì‘ì„±í•œ ì½”ë“œë“¤ì´ ë“¤ì–´ ìˆëŠ” ë¸Œëœì¹˜ì´ë‹¤. merge ì‘ì—… ì „ì— íŒ€ì›ë“¤ ê°„ì˜ `ì§€ì†ì ì¸ ì½”ë“œ ë¦¬ë·°`ê°€ í•„ìš”í•˜ë‹¤.\r\n\r\nê·¸ë ‡ê¸° ë•Œë¬¸ì— `Pull Request`ë¥¼ ì‚¬ìš©í•˜ì—¬ `merge` ì‘ì—… ì „ ë¦¬ë·°ì–´ë“¤ì—ê²Œ ì½”ë“œ ë¦¬ë·°ë¥¼ ë°›ê³  ë°˜ì˜ ì‚¬í•­ì„ ìˆ˜ì •í•˜ì—¬ commit í›„ merge í•œë‹¤. ì´ ê³¼ì •ì€ `í˜‘ì—…ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„`ì´ë¼ê³  ìƒê°ëœë‹¤.\r\n\r\n![](./git-flow-release.png)\r\n\r\n`release` ë¸Œëœì¹˜ëŠ” ë°°í¬ë¥¼ í•˜ê¸° ì „ì— ì¶©ë¶„í•œ ê²€ì¦ì„ ìœ„í•´ ìƒì„±í•˜ëŠ” ë¸Œëœì¹˜ì´ë‹¤. ë°°í¬ ê°€ëŠ¥í•œ ìƒíƒœê°€ ë˜ë©´ `main` ë¸Œëœì¹˜ë¡œ `merge` ì‘ì—…ì„ ê±°ì¹œë‹¤. ë˜í•œ `develop`ì—ë„ ë°˜ì˜ì‚¬í•­ì„ ëª¨ë‘ `merge` ì‹œì¼œì•¼ í•œë‹¤.\r\n\r\n![](./git-flow-hotfix.png)\r\n\r\n`hotifx` ë¸Œëœì¹˜ëŠ” ë°°í¬ ì¤‘ ë²„ê·¸ê°€ ìƒê²¨ ê¸´ê¸‰í•˜ê²Œ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ë¸Œëœì¹˜ì´ë‹¤. ë°°í¬ ì´í›„ì— ì´ë£¨ì–´ì§€ëŠ” ë¸Œëœì¹˜ì´ê³ , ë°˜ì˜ ì‚¬í•­ì„ `main`ê³¼ `develop`ì— ëª¨ë‘ ì ìš© ì‹œì¼œì•¼ í•œë‹¤.\r\n\r\nì•ì„œ ë§í–ˆë“¯ì´ `main`ê³¼ `develop`ëŠ” í•­ì‹œ ìš´ì˜ë˜ëŠ” ë¸Œëœì¹˜ì´ë‹¤. ì´ ë‘˜ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ë¸Œëœì¹˜ ë“¤ì€ ì œ ì—­í• ì´ ë§ˆë¬´ë¦¬ ë˜ì–´ `merge` ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ë¸Œëœì¹˜ë¥¼ ì‚­ì œí•˜ì—¬ ì •ë¦¬í•œë‹¤.\r\n\r\n### ê°„ë‹¨íˆ ì ìš©í•´ë³´ê¸°\r\n\r\n`Upstream Remote Repository`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì›ê²© ê°œì¸ ì €ì¥ì†Œì— `Fork` í•´ì•¼ í•œë‹¤.\r\n\r\n![](./fork.png)\r\n\r\nOrganizationì— ìƒì„±í•œ repositoryì— Forkë¥¼ ëˆ„ë¥´ë©´ ì†ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤. Forkë¡œ ìƒì„±ëœ repositoryë¥¼ ê¸°ë°˜ìœ¼ë¡œ `Local Repository`ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.\r\n\r\n```bash\r\ngit clone https://github.com/{ê°œì¸ github ì´ë¦„}/{repository ì´ë¦„}.git\r\n```\r\n\r\ngit cloneì„ ì‚¬ìš©í•˜ì—¬ ì›ê²© ì €ì¥ì†Œì— ìˆëŠ” repositoryë¥¼ ì†ì‰½ê²Œ cloneí•  ìˆ˜ ìˆë‹¤.\r\n\r\n```bash\r\n$ git remote -v\r\n\r\norigin  https://github.com/{github ì‚¬ìš©ì ì´ë¦„}/{repository ì´ë¦„}.git (fetch)\r\norigin  https://github.com/{github ì‚¬ìš©ì ì´ë¦„}/{repository ì´ë¦„}.git (push)\r\n```\r\n\r\nclone ë°›ì€ local repositoryë¥¼ git remote -vë¡œ í™•ì¸í•´ë³´ë©´ ì›ê²© ì €ì¥ì†Œê°€ ë“±ë¡ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. ë§¤ë²ˆ ìµœì‹  ì½”ë“œë¥¼ `fetch` ë° `rebase` í•˜ê¸° ìœ„í•´ì„œëŠ” `Upstream`ì„ ë“±ë¡í•´ì•¼ í•œë‹¤.\r\n\r\n```bash\r\n$ git remote add upstream https://github.com/{organization ì´ë¦„}/{repository ì´ë¦„}.git\r\n\r\n$ git remote -v\r\n\r\norigin  https://github.com/{github ì‚¬ìš©ì ì´ë¦„}/{repository ì´ë¦„}.git (fetch)\r\norigin  https://github.com/{github ì‚¬ìš©ì ì´ë¦„}/{repository ì´ë¦„}.git (push)\r\nupstream        https://github.com/{organization ì´ë¦„}/{repository ì´ë¦„}.git\r\nupstream        https://github.com/{organization ì´ë¦„}/{repository ì´ë¦„}.git\r\n```\r\n\r\n`git remote add upstream`ì„ í†µí•˜ì—¬ upstreamì„ ë“±ë¡í•œë‹¤. ì •ìƒì ìœ¼ë¡œ ë“±ë¡ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ì œ ì‘ì—…í•  ë•Œ ë§ˆë‹¤ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ê³  ìµœì‹  ì½”ë“œë¥¼ pull ë°›ì•„ì•¼ í•œë‹¤.\r\n\r\nìš°ë¦¬ íŒ€ì›ì€ ê°ê° ê°œë°œí•´ì•¼ í•˜ëŠ” ê¸°ëŠ¥ì„ github issueì— ë“±ë¡í•œ í›„ ë“±ë¡ ë²ˆí˜¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ê¸°ë¡œ í•˜ì˜€ë‹¤.\r\n\r\nìš°ì„  ê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ ìœ„í•˜ì—¬ ì´ìŠˆë¥¼ ë“±ë¡í•œë‹¤.\r\n\r\n![](./issue.png)\r\n\r\n3ë²ˆ ë²ˆí˜¸ê°€ ë¶€ì—¬ëœ ì´ìŠˆë¼ê³  ê°€ì •í•œë‹¤. í•´ë‹¹ ë²ˆí˜¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ `local repository`ì—ì„œ feature ë¸Œëœì¹˜ë¥¼ ìƒì„±í•œë‹¤.\r\n\r\n```bash\r\n$ git branch feature/3-init-setting\r\n$ git checkout feature/3-init-setting\r\n```\r\n\r\nì´ì œ Upstreamì— ìˆëŠ” remote repositoryì—ì„œ ìµœì‹  ì†ŒìŠ¤ì½”ë“œë¥¼ ë°›ì•„ ì™€ì•¼ í•œë‹¤.\r\n\r\n```bash\r\n$ git fetch upstream\r\n$ git rebase upstream/develop\r\n```\r\n\r\ngit pullì„ ì‚¬ìš©í•˜ì—¬ ë“±ë¡í•œ upstream developì—ì„œ commit ê¸°ë¡ì„ ë³‘í•©í•œë‹¤. ì´ì œ ì‹ ë‚˜ê²Œ ì‘ì—…ì„ ì§„í–‰í•˜ê³  ìì‹ ì˜ ì›ê²© ì €ì¥ì†Œì¸ `Origin remote repository`ì— pushí•œë‹¤.\r\n\r\n```bash\r\n$ git push origin feature/3-init-setting\r\n```\r\n\r\nê·¸ë ‡ê²Œ github repositoryë¥¼ ì‚´í´ë³´ë©´ `ë³€ê²½ì„ ê°ì§€`í•˜ê³  pull requestë¥¼ ìƒì„±í•  ê²ƒì¸ì§€ì— ëŒ€í•œ íƒ­ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\r\n\r\n![](./upstream-repository.png)\r\n\r\nì´ì œ forkí•œ ê°œì¸ ì›ê²© ì €ì¥ì†Œë¥¼ ì‚´í´ë³´ë©´ ìƒˆë¡­ê²Œ ì‘ì„±í•œ ë¸Œëœì¹˜ë¥¼ ê°ì§€í•˜ê³  pull request ì‘ì„±ì„ ìœ„í•œ ë²„íŠ¼ì´ ìƒì„±ëœë‹¤.\r\n\r\n![](./pull-request.png)\r\n\r\n`feature/3-init-setting` ë¸Œëœì¹˜ë¥¼ developì— mergeí•˜ê¸° ìœ„í•œ pull requestë¥¼ ì§„í–‰í•˜ëŠ” ì˜ˆì‹œì´ë‹¤. ì‘ì„±í•œ ì½”ë“œë¥¼ ë¦¬ë·°í•´ì¤„ íŒ€ì›ë“¤ì„ ì„ íƒí•˜ê³ , commití•œ ì½”ë“œì˜ ë‚´ìš©ì„ ê°„ë‹¨íˆ ìš”ì•½í•˜ì—¬ ì‘ì„±í•œë‹¤. ì´ì œ ìƒì„±í•œ PRì„ ê¸°ë°˜ìœ¼ë¡œ `ì½”ë“œë¦¬ë·°`ë¥¼ ì§„í–‰í•œë‹¤. ë³€ê²½ ì‚¬í•­ì´ ì ìš©ë˜ë©´ developì— ë°˜ì˜í•˜ê¸° ìœ„í•´ mergeí•œë‹¤.\r\n\r\n### ë‹¬ë¡ì— ë§ê²Œ ìˆ˜ì •í•˜ê¸°\r\n\r\ngit-flowëŠ” ë¹ ë¥´ê²Œ ê¸‰ë³€í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ì—ëŠ” ë§ì§€ ì•Šì€ git ë¸Œëœì¹˜ ì „ëµì´ë‹¤. ê´€ë¦¬í•´ì•¼ í•  ë¸Œëœì¹˜ê°€ ëŠ˜ì–´ë‚˜ê¸° ë•Œë¬¸ì— ê°œë°œìë“¤ì´ ì‹ ê²½ì¨ì•¼ í•  í¬ì¸íŠ¸ê°€ ëŠ˜ì–´ë‚œë‹¤. \r\n\r\në¹ˆë²ˆí•œ ë°°í¬ë¡œ ì¸í•´ ê¸‰ì‘ìŠ¤ëŸ¬ìš´ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì¦‰ ì˜ˆìƒì¹˜ ëª»í•œ ë¡¤ë°±ì´ ìì£¼ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤. ë˜í•œ ì›¹ ì„œë¹„ìŠ¤ì˜ íŠ¹ì„±ìƒ ë‹¤ì–‘í•œ ë¦´ë¦¬ì¦ˆ ë²„ì „ì„ ìœ ì§€í•  í•„ìš”ê°€ ì—†ë‹¤. ì´ëŸ¬í•œ íŠ¹ì„±ë“¤ë¡œ ì¸í•´ ì›¹ ì„œë¹„ìŠ¤ì—ëŠ” ë‹¤ì†Œ ë³´ìˆ˜ì ì¸ git-flow ì „ëµì€ ë§ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.\r\n\r\nê·¸ëŸ¼ì—ë„ ìš°ë¦¬ ë‹¬ë¡íŒ€ì€ git-flowë¥¼ ì„ íƒí–ˆë‹¤. ìš°ë¦¬ëŠ” ì‹¤ì œ ìš´ì˜í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•˜ë©° ë‹¤ì–‘í•œ ê²½í—˜ì„ ìŠµë“í•´ì•¼ í•œë‹¤. ë˜í•œ ëŒ€ë¶€ë¶„ì˜ íŒ€ì›ë“¤ì´ gitì— ìµìˆ™í•˜ì§€ ì•Šì•˜ìœ¼ë©° ë‹¤ì–‘í•œ ì‹œë„ë¥¼ í†µí•´ ë¹ ë¥´ê²Œ í•™ìŠµí•´ì•¼ í•œë‹¤. \r\n\r\nëŒ€ì‹  git-flowë¥¼ ì •ì„ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šê³  í•„ìš”í•œ ë¶€ë¶„ì„ ìˆ˜ì •í•˜ì—¬ ë°˜ì˜í•˜ë ¤ í•œë‹¤. í˜„ì¬ ìˆ˜ì¤€ì—ì„œ `develop`ì—ì„œ ëŒ€ë¶€ë¶„ì˜ ë¹Œë“œë¥¼ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì— `release` ë¸Œëœì¹˜ì˜ í•„ìš”ì„±ì´ ë‹¤ì†Œ ì˜…ì–´ì¡Œë‹¤. ê²°êµ­ `release`ë¥¼ ì œì™¸í•œ `main`, `develop`, `feature`, `hotfix`ë§Œ ì‚¬ìš©í•˜ê¸°ë¡œ ê²°ì •í•˜ì˜€ë‹¤.\r\n\r\n### ë‹¬ë¡ì´ ì§‘ì¤‘í•œ ê²ƒ\r\n\r\në‹¬ë¡ì˜ íŒ€ ê° êµ¬ì„±ì›ë“¤ì€ ë§¡ì€ ì´ìŠˆë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•œ ë’¤ ì‘ì—…ì„ ì§„í–‰í•  ê²ƒì´ë‹¤. ê²°êµ­ ë‹¤ìˆ˜ì˜ ë¸Œëœì¹˜ê°€ ì•„ë˜ì™€ ê°™ì´ ë³‘ë ¬ì ìœ¼ë¡œ ì»¤ë°‹ì´ ìŒ“ì´ê²Œ ëœë‹¤.\r\n\r\n![](./force-push.png)\r\n\r\në§Œì•½ íŒ€ì› ì¤‘ í•œëª…ì´ ì‘ì—…ì„ ëë‚´ì„œ PRì´ mergeëœ ìƒí™©ì´ë¼ê³  ê°€ì •í•˜ì. develop ë¸Œëœì¹˜ì˜ ì»¤ë°‹ ë² ì´ìŠ¤ëŠ” ë³€ê²½ë¬ìœ¼ë©° ì´ì „ì— ì‘ì—…ì„ ì§„í–‰í•˜ë˜ ë¸Œëœì¹˜ë“¤ì€ ì‹œì‘ì ì´ ë’¤ë¡œ ë°€ë ¤ë‚˜ê²Œ ëœë‹¤. \r\n\r\nì—¬ëŸ¬ ì‚¬ëŒì´ í•˜ë‚˜ì˜ ì €ì¥ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì—…ì„ ì§„í–‰í•˜ê¸° ë•Œë¬¸ì— í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê³µê°„ì˜ ì½”ë“œë“¤ì€ ì¶©ëŒì„ ì•¼ê¸°í•  ê°€ëŠ¥ì„±ì´ í¬ë‹¤. ì¦‰ ì§€ì†ì ì¸ `fetch` + `rebase`ë¥¼ í†µí•´ ì‚¬ì „ì— ì¶©ëŒì— ëŒ€ë¹„í•˜ë©° í•­ìƒ `develop` ë¸Œëœì¹˜ì™€ ì»¤ë°‹ ì‹±í¬ë¥¼ ë§ì¶˜ë‹¤.\r\n\r\nì •ë¦¬í•˜ë©´ ìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ í•­ì‹œ develop ë¸Œëœì¹˜ì˜ ë ë‹¨ì—ì„œ ì‹œì‘í•´ì•¼ í•œë‹¤. ì´ëŸ¬í•œ ë°©ì‹ì€ ì½”ë“œì˜ ì¶©ëŒì„ ìµœì†Œí™”í•  ìˆ˜ ìˆìœ¼ë©° ìˆœì°¨ì ì¸ git ì»¤ë°‹ ëª©ë¡ì„ ê¸°ë°˜ìœ¼ë¡œ ì‰½ê²Œ ê¸°ëŠ¥ì´ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.\r\n\r\n## ì •ë¦¬\r\n\r\nì§€ê¸ˆê¹Œì§€ ê°„ë‹¨íˆ `git-flowì˜ íë¦„`ê³¼ ì´ê²ƒì„ ê¸°ë°˜ìœ¼ë¡œ `ë‹¬ë¡ì— ì ìš©í•œ ê³¼ì •`ë“¤ì„ ì•Œì•„ë³´ì•˜ë‹¤. git-flowëŠ” ì–¸ê¸‰í•œ ê²ƒ ì²˜ëŸ¼ ë¶€ê°€ì ì¸ ë¸Œëœì¹˜ë¡œ ì¸í•´ `ê´€ë¦¬ì— ëŒ€í•œ ë¶€ë‹´ê°`ì„ ëŠë‚„ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ `upstream`ê³¼ `origin`ì„ ë¶„ë¦¬í•œ í™˜ê²½ì€ ì¢€ ë” ë„ì „ì ì¸ ê³¼ì œë“¤ì„ ì ìš©í•˜ê¸°ì— ë§¤ìš° ì¢‹ì€ í™˜ê²½ì„ êµ¬ì„±í•´ì¤€ë‹¤. ë˜í•œ `pull request`ë¥¼ í†µí•œ ì½”ë“œ ë¦¬ë·°ë¥¼ í†µí•´ ë³´ë‹¤ ë” ì–‘ì§ˆì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì— í˜ì“¸ ìˆ˜ ìˆë‹¤.\r\n\r\n## References.\r\n\r\n[git flow; í™˜ìƒê³¼ í˜„ì‹¤ ê·¸ ì‚¬ì´ì— ì„œë¹„ìŠ¤](https://vallista.kr/git-flow;-%ED%99%98%EC%83%81%EA%B3%BC-%ED%98%84%EC%8B%A4-%EA%B7%B8-%EC%82%AC%EC%9D%B4%EC%97%90-%EC%84%9C%EB%B9%84%EC%8A%A4/)<br>\r\n[ìš°ë¦° Git-flowë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ìš”](https://woowabros.github.io/experience/2017/10/30/baemin-mobile-git-branch-strategy.html)<br>\r\n"},{"excerpt":"ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ 'í›„ë””'ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ë°°ê²½ ìš°í…Œì½” ë ˆë²¨3 ë‹¬ë¡ íŒ€ì—ì„œ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì—ëŠ” ë°˜ë“œì‹œ  í‚¤ì›Œë“œë¥¼ ë¶™ì´ë„ë¡ ì»¨ë²¤ì…˜ì„ ì •í–ˆìŠµë‹ˆë‹¤. ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ì¼ë°˜ì ìœ¼ë¡œ ê°€ë³€ì ì¸ ë³€ìˆ˜ëŠ” í”„ë¡œê·¸ë¨ì˜ íë¦„ì„ ì˜ˆì¸¡í•˜ê¸° ì–´ë µê²Œ ë§Œë“ ë‹¤. ë”°ë¼ì„œ ë³€ìˆ˜ë¥¼ ê°€ë³€ì ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì¤‘ìš”í•œë°, ìë°”ì—ì„œëŠ” ë³€ìˆ˜ì˜ ì¬í• ë‹¹ì„ ë§‰ê¸° ìœ„í•´  í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¬¼â€¦","fields":{"slug":"/intellij-final-keyword/"},"frontmatter":{"date":"July 12, 2022","title":"IntelliJì—ì„œ ë©”ì†Œë“œ ì¶”ì¶œí•œ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì— final í‚¤ì›Œë“œ ìë™ ì¶”ê°€í•˜ê¸°","tags":["intellij"]},"rawMarkdownBody":"\r\n> ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ '[í›„ë””](https://github.com/devHudi)'ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\r\n\r\n## ë°°ê²½\r\n\r\nìš°í…Œì½” ë ˆë²¨3 ë‹¬ë¡ íŒ€ì—ì„œ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì—ëŠ” ë°˜ë“œì‹œ `final` í‚¤ì›Œë“œë¥¼ ë¶™ì´ë„ë¡ ì»¨ë²¤ì…˜ì„ ì •í–ˆìŠµë‹ˆë‹¤. ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”? ì¼ë°˜ì ìœ¼ë¡œ ê°€ë³€ì ì¸ ë³€ìˆ˜ëŠ” í”„ë¡œê·¸ë¨ì˜ íë¦„ì„ ì˜ˆì¸¡í•˜ê¸° ì–´ë µê²Œ ë§Œë“ ë‹¤. ë”°ë¼ì„œ ë³€ìˆ˜ë¥¼ ê°€ë³€ì ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì¤‘ìš”í•œë°, ìë°”ì—ì„œëŠ” ë³€ìˆ˜ì˜ ì¬í• ë‹¹ì„ ë§‰ê¸° ìœ„í•´ `final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë¬¼ë¡  `final` í‚¤ì›Œë“œ í•˜ë‚˜ë§Œìœ¼ë¡œ ì™„ì „í•œ ë¶ˆë³€ì„ ë³´ì¥í•˜ë„ë¡ ë§Œë“¤ìˆ˜ëŠ” ì—†ì§€ë§Œ, ì–´ëŠì •ë„ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ë§Œë“œëŠ”ë°ì—ëŠ” ë„ì›€ì´ ë©ë‹ˆë‹¤.\r\n\r\nì´ëŠ” ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì—ë„ ì ìš©ë©ë‹ˆë‹¤. ì•„ë˜ì˜ ì½”ë“œëŠ” `Memo` ê°ì²´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ìƒì„±ìì…ë‹ˆë‹¤. `value` ë¼ëŠ” String ê°’ì„ ì „ë‹¬ë°›ì•„ ê°ì²´ í•„ë“œì— í• ë‹¹í•©ë‹ˆë‹¤.\r\n\r\n```java\r\npublic Memo(String value) {\r\n    validateLength(value);\r\n\r\n    value = \"hello\"; // ì˜ˆìƒì¹˜ ëª»í•œ ì½”ë“œ\r\n\r\n    this.value = value;\r\n}\r\n```\r\n\r\ní•˜ì§€ë§Œ ìœ„ì²˜ëŸ¼ ì˜ˆìƒì¹˜ ëª»í•œ ì½”ë“œê°€ ì¶”ê°€ë˜ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”? `value` í•„ë“œì—ëŠ” ê°œë°œìê°€ ì˜ë„í•˜ì§€ ëª»í•œ ê°’ì´ í• ë‹¹ë  ê²ƒ ì…ë‹ˆë‹¤.\r\n\r\n```java\r\npublic Memo(final String value) {\r\n    validateLength(value);\r\n\r\n    value = 1; // error: final parameter value may not be assigned\r\n\r\n    this.value = value;\r\n}\r\n```\r\n\r\nì´ë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´ì„œ ìœ„ì²˜ëŸ¼ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ì— `final` í‚¤ì›Œë“œë¥¼ ë¶™ì´ë©´, ì¬í• ë‹¹ ì‹œ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ì„ ì‚¬ì „ì— ë°©ì§€í•  ìˆ˜ ìˆì„ ê²ƒ ì…ë‹ˆë‹¤.\r\n\r\n## IntelliJ ì„¤ì •í•˜ê¸°\r\n\r\ní•˜ì§€ë§Œ, ì €í¬ëŠ” ì•„ì§ ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ì— `final` í‚¤ì›Œë“œë¥¼ ë¶™ì´ëŠ” ìŠµê´€ì´ ë“¤ì–´ìˆì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ IDEì˜ ë„ì›€ì´ í•„ìš”í•œë°ìš”, ë‹¤í–‰íˆë„ IntelliJì—ì„œ ë©”ì†Œë“œ ì¶”ì¶œ ë¦¬íŒ©í† ë§ì„ í•  ë•Œ ìƒì„±ë˜ëŠ” ë©”ì†Œë“œ íŒŒë¼ë¯¸í„°ì— ìë™ìœ¼ë¡œ `final` í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì£¼ëŠ” ì˜µì…˜ì„ ë°œê²¬í•˜ì˜€ìŠµë‹ˆë‹¤.\r\n\r\n![IntelliJ ì„¤ì • í™”ë©´](./intellij.png)\r\n\r\në§¥ ê¸°ì¤€ìœ¼ë¡œ Preferences â†’ Editor â†’ Code Style â†’ Java í˜ì´ì§€ì—ì„œ Code Generation íƒ­ì„ í´ë¦­í•©ë‹ˆë‹¤. í•´ë‹¹ íƒ­ì˜ í•˜ë‹¨ì— â€˜Final Modifierâ€™ ì—ì„œ â€˜Make generated parameters finalâ€™ ì„ ì²´í¬í•´ì¤ë‹ˆë‹¤. ìœ„ì™€ ê°™ì´ ì˜µì…˜ì„ ë³€ê²½í•˜ë©´ ë©”ì†Œë“œ ì¶”ì¶œ ì‹œ íŒŒë¼ë¯¸í„°ì— ìë™ìœ¼ë¡œ `final` í‚¤ì›Œë“œê°€ ìƒì„±ë˜ëŠ” ëª¨ìŠµì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ ğŸ˜Š\r\n"},{"excerpt":"ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ 'ë¦¬ë²„'ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. JPA ë“±ì¥ë°°ê²½ 1990ë…„ëŒ€ ì¸í„°ë„·ì´ ë³´ê¸‰ë˜ë©´ì„œ ì˜¨ë¼ì¸ ë¹„ì§€ë‹ˆìŠ¤ê°€ í™œì„±í™” ë˜ì—ˆë‹¤.\nìì—°ìŠ¤ëŸ½ê²Œ, ì˜¨ë¼ì¸ ë¹„ì§€ë‹ˆìŠ¤ì—ì„œ DBì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê°€ì ¸ì˜¬ë•Œ ì‚¬ìš©í•  Connection Connectorì— ëŒ€í•œ ë‹ˆì¦ˆê°€ ë†’ì•„ì¡Œë‹¤.\nê·¸ë˜ì„œ ê° ì–¸ì–´ë“¤ì—ì„œ DB Connectionì„ ì§€ì›í•˜ëŠ” API ê¸°ìˆ ë“¤ì´ ë“±ì¥í•˜ì˜€ë‹¤.â€¦","fields":{"slug":"/appearance-background-of-jpa/"},"frontmatter":{"date":"July 07, 2022","title":"JPA ë“±ì¥ë°°ê²½","tags":["JPA"]},"rawMarkdownBody":"\r\n> ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ '[ë¦¬ë²„](https://github.com/gudonghee2000)'ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\r\n\r\n## JPA ë“±ì¥ë°°ê²½\r\n\r\n1990ë…„ëŒ€ ì¸í„°ë„·ì´ ë³´ê¸‰ë˜ë©´ì„œ ì˜¨ë¼ì¸ ë¹„ì§€ë‹ˆìŠ¤ê°€ í™œì„±í™” ë˜ì—ˆë‹¤.\r\nìì—°ìŠ¤ëŸ½ê²Œ, ì˜¨ë¼ì¸ ë¹„ì§€ë‹ˆìŠ¤ì—ì„œ DBì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê°€ì ¸ì˜¬ë•Œ ì‚¬ìš©í•  Connection Connectorì— ëŒ€í•œ ë‹ˆì¦ˆê°€ ë†’ì•„ì¡Œë‹¤.\r\nê·¸ë˜ì„œ ê° ì–¸ì–´ë“¤ì—ì„œ DB Connectionì„ ì§€ì›í•˜ëŠ” API ê¸°ìˆ ë“¤ì´ ë“±ì¥í•˜ì˜€ë‹¤. ì´í›„ì— Springì—ì„œëŠ” DB Connectionì„ ì¢€ ë” ì‰½ê²Œ ê´€ë¦¬í•˜ëŠ” Spring JDBC APIë¥¼ ë§Œë“¤ê³  ì§€ì›í•˜ì˜€ë‹¤. (ì´ì™¸ì—ë„ Queryë¬¸ì„ XMLíŒŒì¼ì„ í†µí•´ ê´€ë¦¬í•˜ê²Œë” ë„ì™€ì£¼ëŠ” Mybatisë„ ë“±ì¥í•˜ì˜€ìŒ)\r\ní•˜ì§€ë§Œ, ì—¬ì „íˆ ì¿¼ë¦¬ë¬¸ì„ ê°œë°œìê°€ ì§ì ‘ ì‘ì„±í•´ì•¼í•˜ëŠ” ë“± ë‹¤ì–‘í•œ ë¬¸ì œë¥¼ ê°€ì§€ê³  ìˆì—ˆë‹¤.\r\nê·¸ë˜ì„œ JAVA ì§„ì˜ì—ì„œëŠ” ê°œë°œìê°€ ì¿¼ë¦¬ë¬¸ì„ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ í”„ë ˆì„ì›Œí¬ ë‚´ë¶€ì—ì„œ ì§€ì›í•´ì£¼ëŠ” ORM(Object Relational Model)ê¸°ìˆ ì¸ JPAê°€ ë“±ì¥í•˜ì˜€ë‹¤.\r\nê·¸ë ‡ë‹¤ë©´, JPA ì´ì „ì— ê°œë°œìë“¤ì´ ì§ì ‘ ì¿¼ë¦¬ë¬¸ì„ ì‘ì„±í•˜ë˜ SQL ì¤‘ì‹¬ì ì¸ ê°œë°œì˜ ë‹¨ì ì€ ë¬´ì—‡ì´ ìˆì„ê¹Œ?\r\nì•„ë˜ì—ì„œ ì‚´í´ë³´ì.\r\n\r\n## SQL ì¤‘ì‹¬ì ì¸ ê°œë°œì˜ ë‹¨ì \r\n\r\n#### 1. ì¿¼ë¦¬ë¬¸ ë¬´í•œ ë°˜ë³µê³¼ ì§€ë£¨í•œ ì½”ë”©\r\n\r\nJDBC APIëŠ” ì¿¼ë¦¬ë¬¸ì„ ê°œë°œìë“¤ì´ ì§ì ‘ ì‘ì„± í•´ì•¼í•œë‹¤.\r\nê·¸ë˜ì„œ ê°œë°œìë“¤ì€ ì¿¼ë¦¬ë¬¸ì„ ì‘ì„±í•˜ëŠ” ì§€ë£¨í•œ ì‘ì—…ì„ ê°œë°œ ê³¼ì •ì—ì„œ ë¬´í•œë°˜ë³µí•´ì•¼í•œë‹¤.\r\n\r\n#### 2. ê°ì²´ì˜ í•„ë“œê°€ ì¶”ê°€ë˜ë©´ ëª¨ë“  ì¿¼ë¦¬ë¬¸ì„ ìˆ˜ì •í•´ì•¼í•œë‹¤.\r\n\r\n![](https://velog.velcdn.com/images/gudonghee2000/post/488a7899-d55b-4447-aafc-bada8d840192/image.jpg)\r\nìœ„ ê·¸ë¦¼ê³¼ ê°™ì´ SQL ì¤‘ì‹¬ì ì¸ ê°œë°œì—ì„œëŠ” ê°ì²´ì˜ í•„ë“œê°€ ë³€ê²½ë˜ë©´ í•´ë‹¹í•˜ëŠ” ëª¨ë“  ì¿¼ë¦¬ë¬¸ì„ ì°¾ì•„ ê°œë°œìê°€ ìˆ˜ì •í•´ì•¼í•œë‹¤.\r\n\r\n#### 3. ê°ì²´ì™€ ê´€ê³„í˜• DBì˜ íŒ¨ëŸ¬ë‹¤ì„ì˜ ë¶ˆì¼ì¹˜\r\n\r\nê°ì²´ë¼ê³  í•˜ë©´ ë– ì˜¤ë¥´ëŠ” í‚¤ì›Œë“œëŠ” ë¬´ì—‡ì´ ìˆì„ê¹Œ?\r\nìº¡ìŠí™”, í˜‘ë ¥, ì˜ì¡´, ìƒì†, ì°¸ì¡° ë“±ì˜ ê¸°ìˆ ì´ ìˆë‹¤. ê·¸ëŸ°ë°, DBì—ì„œëŠ” ì´ëŸ¬í•œ ê¸°ìˆ ë“¤ì´ ì—†ë‹¤.\r\nì ìš©ë˜ëŠ” ê¸°ìˆ ë“¤ì˜ íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ë¡œ ì¸í•´ ê°œë°œìë“¤ì€ SQL ì§€í–¥ì ì¸ ê°œë°œì„ í•  ìˆ˜ ë°–ì— ì—†ë‹¤.\r\nì•„ë˜ì—ì„œ ìì„¸íˆ ì‚´í´ë³´ì.\r\n\r\n## ê°ì²´ì™€ ê´€ê³„í˜• DBì˜ íŒ¨ëŸ¬ë‹¤ì„ ì°¨ì´\r\n\r\nê°ì²´ì™€ ê´€ê³„í˜• DBëŠ” ì—°ê´€ê´€ê³„ë¥¼ í†µí•´ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ëŠ” ê³µí†µì ì„ ê°€ì§„ë‹¤.\r\ní•˜ì§€ë§Œ ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ” íŒ¨ëŸ¬ë‹¤ì„ì˜ ì°¨ì´ë¥¼ ê°€ì§„ë‹¤.\r\n\r\nê°ì²´ëŠ” ìƒì†, ì°¸ì¡°ë¥¼ í†µí•´ ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.\r\në°˜ë©´ ê´€ê³„í˜• DBëŠ” PK, FKë¥¼ í†µí•´ ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ”ë‹¤.\r\nì´ë•Œ, ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ” ë°©ì‹ì˜ ì°¨ì´ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œì ì„ ì½”ë“œì™€ í•¨ê»˜ ì‚´í´ë³´ì.\r\n\r\n```java\r\npublic class Crew {\r\n   private Long id;\r\n    private String name;\r\n    private String nickName;\r\n    private Team team;\r\n}\r\n\r\npublic class Team {\r\n   private Long id;\r\n    private String team_name;\r\n}\r\n```\r\n\r\nìœ„ì™€ ê°™ì´ `Crew` ê°ì²´ê°€ `Team` ê°ì²´ë¥¼ í•„ë“œë¡œ ê°€ì§€ê³  ì°¸ì¡°í•œë‹¤ê³  í•˜ì.\r\nê°ì²´ì§€í–¥ì ì¸ ê´€ì ì—ì„œ, `Crew`ì™€ `Team`ì˜ ê´€ê³„ë¥¼ ìœ„ì™€ ê°™ì´ í‘œí˜„í•˜ëŠ”ê²ƒì€ ìì—°ìŠ¤ëŸ½ë‹¤.\r\n\r\ní•˜ì§€ë§Œ, DBì—ì„œëŠ” `Crew`ê°€ `Team`ì„ ì°¸ì¡°í•œë‹¤ëŠ” ê°œë…ì´ ì—†ë‹¤.\r\nê·¸ë˜ì„œ ìœ„ ê°ì²´ë“¤ì„ ê°€ì§€ê³  DBì˜ `Crew`í…Œì´ë¸”ê³¼ `Team`í…Œì´ë¸”ì˜ ê´€ê³„ë¥¼ ë§ºì„ë•Œ, ì•„ë˜ì™€ ê°™ì´ `PK` ê°’ì¸ idë¥¼ `FK`ë¡œ ê°€ì§€ë„ë¡ êµ¬í˜„ í•˜ì—¬ì•¼í•œë‹¤.\r\n![ERD](./erd.png)\r\n\r\nì—°ê´€ê´€ê³„ì— ëŒ€í•´ì„œ ê°ì²´ì˜ êµ¬ì¡°ì™€ DBì˜ êµ¬ì¡°ê°€ ë‹¬ë¼ì§„ë‹¤ëŠ” ê²ƒì´ë‹¤.\r\n\r\nê·¸ë ‡ë‹¤ë©´ ê°ì²´ì§€í–¥ì ì¸ ì—°ê´€ê´€ê³„ë¥¼ ê°€ì§„ ê°ì²´ë“¤ì„ DBì— ì €ì¥ í•  ë•Œ,\r\nDBì˜ ì—°ê´€ê´€ê³„ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì™œ ë¬¸ì œê°€ ë ê¹Œ?\r\n\r\n## ê°ì²´ì™€ RDBì˜ ì—°ê´€ê´€ê³„ ì°¨ì´ê°€ ê°€ì ¸ì˜¤ëŠ” ë¬¸ì œ\r\n\r\nìœ„ì—ì„œ ë´¤ë˜ `Crew`ì™€ `Team`ì˜ ê°ì²´ ëª¨ë¸ë§ì„ ë‹¤ì‹œí•œë²ˆ ì‚´í´ë³´ì.\r\n\r\n```java\r\npublic class Crew {\r\n   private Long id;\r\n    private String name;\r\n    private String nickName;\r\n    private Team team;\r\n}\r\n\r\npublic class Team {\r\n   private Long id;\r\n    private String team_name;\r\n}\r\n```\r\n\r\nìœ„ì™€ ê°™ì´ ëª¨ë¸ë§ëœ `Crew`ì™€ `Team`ì„ DBì— ì €ì¥í•œë‹¤ê³  í•œë‹¤ë©´ ë‹¤ìŒì˜ ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.\r\nDBì— ì ‘ê·¼í•˜ê³ ì í•˜ëŠ” Dao ê°ì²´ëŠ” `Crew`ê°ì²´ë¥¼ ë¶„í•´í•˜ê³  ê°ì `Crew` í…Œì´ë¸”ê³¼ `Team` í…Œì´ë¸”ì— ëŒ€í•œ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•´ì•¼í•œë‹¤. ë‹¨ìˆœíˆ `Crew`ì˜ ê°ì²´ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ”ë° 3ê°€ì§€ ê³¼ì •ì„ ê±°ì³ì•¼í•œë‹¤.\r\n\r\nì´ëŸ¬í•œ ë³µì¡í•œ ê³¼ì •ì„ í”¼í•˜ëŠ” ë°©ë²•ì€ ì—†ì„ê¹Œ?\r\nì•„ë˜ ì½”ë“œë¥¼ ì‚´í´ë³´ì.\r\n\r\n```java\r\npublic class Crew {\r\n   private Long id;\r\n    private String name;\r\n    private String nickName;\r\n    private Long team_id;\r\n}\r\n\r\npublic class Team {\r\n   private Long id;\r\n    private String team_name;\r\n}\r\n```\r\n\r\nìœ„ì™€ ê°™ì´ DB í…Œì´ë¸” êµ¬ì¡°ì— ë§ì¶”ì–´ `Crew`ì™€ `Team` ê°ì²´ë¥¼ ì„¤ê³„í•˜ëŠ” ë°©ë²•ì´ìˆë‹¤.\r\nì´ëŸ¬í•œ ê°ì²´ ëª¨ë¸ë§ì€ Dao ê°ì²´ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ DBì— ì €ì¥ í•  ë•Œ, `Crew` ê°ì²´ë¥¼ ë¶„í•´í•˜ëŠ” ê³¼ì •ì„ ì‚­ì œ í•  ìˆ˜ ìˆë‹¤.\r\nê°ì²´ê°€ DB êµ¬ì¡°ì— ë§ì¶”ì–´ ì„¤ê³„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.\r\n\r\n**í•˜ì§€ë§Œ, ê°ì²´ ëª¨ë¸ë§ì„ í•  ë•Œ ê°ì²´ê°€ ì„œë¡œ ì°¸ì¡°í•˜ëŠ” ê°ì²´ì§€í–¥ì ì¸ ê°œë°œì´ ì•„ë‹Œ\r\nDB í…Œì´ë¸”êµ¬ì¡°ì— ë§ì¶”ì–´ ê°œë°œí•˜ëŠ” SQL ì¤‘ì‹¬ì ì¸ ê°œë°œì„ í•˜ê²Œ ëœë‹¤ëŠ” ë¬¸ì œë¥¼ ê°€ì§„ë‹¤.**\r\n\r\nê°ì²´ì™€ ê´€ê³„í˜• DBì˜ ì—°ê´€ê´€ê³„ì˜ íŒ¨ëŸ¬ë‹¤ì„ ì°¨ì´ëŠ” ê°ì²´ë¥¼ ê°ì²´ë‹µì§€ ëª»í•˜ê²Œ ë§Œë“ ë‹¤ëŠ” ê²ƒì´ë‹¤.\r\nê·¸ë ‡ë‹¤ë©´, íŒ¨ëŸ¬ë‹¤ì„ì˜ ì°¨ì´ë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì€ ì—†ì„ê¹Œ?\r\n\r\n## JPA\r\n\r\nê°ì²´ì™€ ê´€ê³„í˜• DBì˜ íŒ¨ëŸ¬ë‹¤ì„ì˜ ì°¨ì´ë¡œ ì¸í•´ ìš°ë¦¬ëŠ” ê°ì²´ì§€í–¥ì ì¸ í”„ë¡œê·¸ë˜ë°ì„ í•˜ì§€ëª»í•˜ê³  DBì— ì¢…ì†ì ì¸ ê°œë°œì„ í•˜ê²Œëœë‹¤.\r\nì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ JAVAì§„ì˜ì—ì„œëŠ” JPAë¥¼ ì œê³µí•œë‹¤.\r\n\r\nJPAë¥¼ í†µí•´ ê°œë°œìëŠ” ë”ì´ìƒ ì¿¼ë¦¬ë¬¸ì„ ë°˜ë³µì ìœ¼ë¡œ ì‘ì„±í•˜ê±°ë‚˜ ìœ ì§€ë³´ìˆ˜í•˜ëŠ” ê²ƒì„ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ëœë‹¤.\r\nì™œëƒí•˜ë©´ JPAê°€ ì¿¼ë¦¬ë¬¸ì„ ì‘ì„±í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.\r\nê·¸ë¦¬ê³  SQL ì¤‘ì‹¬ì ì¸ ê°œë°œì—ì„œ ë²—ì–´ë‚˜ ê°ì²´ì§€í–¥ì ì¸ ê°œë°œì„ í•  ìˆ˜ ìˆê²Œ ëœë‹¤.\r\nì™œëƒí•˜ë©´ íŒ¨ëŸ¬ë‹¤ì„ì˜ ë¶ˆì¼ì¹˜ë¥¼ JPAê°€ ë‚´ë¶€ì ìœ¼ë¡œ ë§µí•‘í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.\r\n\r\në‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” JPAì˜ ì‘ë™ ë©”ì»¤ë‹ˆì¦˜ì„ ìì„¸íˆ ì‚´í´ë³´ì.\r\n"},{"excerpt":"ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ 'ë¦¬ë²„'ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. Rest Docs Spring Rest DocsëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ ê¸°ë°˜ìœ¼ë¡œ ìë™ìœ¼ë¡œ Rest API ë¬¸ì„œë¥¼ ì‘ì„± í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” í”„ë ˆì„ ì›Œí¬ì´ë‹¤. Rest Docsì™€ Swagger ìë°” ë¬¸ì„œ ìë™í™”ì—ëŠ” ì£¼ë¡œ Rest Docsì™€ Swaggerê°€ ì‚¬ìš©ëœë‹¤.\nê° ìë™í™” í”„ë ˆì„ ì›Œí¬ì˜ ì¥ë‹¨ì ì„ ì‚´í´ë³´ì.\nâ€¦","fields":{"slug":"/apply-rest-docs/"},"frontmatter":{"date":"July 07, 2022","title":"MockMvcë¥¼ ì‚¬ìš©í•œ Spring RestDocs","tags":["Spring","Rest API"]},"rawMarkdownBody":"\r\n> ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ '[ë¦¬ë²„](https://github.com/gudonghee2000)'ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.\r\n\r\n## Rest Docs\r\nSpring Rest DocsëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ ê¸°ë°˜ìœ¼ë¡œ ìë™ìœ¼ë¡œ Rest API ë¬¸ì„œë¥¼ ì‘ì„± í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” í”„ë ˆì„ ì›Œí¬ì´ë‹¤.\r\n\r\n## Rest Docsì™€ Swagger\r\nìë°” ë¬¸ì„œ ìë™í™”ì—ëŠ” ì£¼ë¡œ Rest Docsì™€ Swaggerê°€ ì‚¬ìš©ëœë‹¤.\r\nê° ìë™í™” í”„ë ˆì„ ì›Œí¬ì˜ ì¥ë‹¨ì ì„ ì‚´í´ë³´ì.\r\n![](https://velog.velcdn.com/images/gudonghee2000/post/ffc0e7eb-3190-43ca-9a85-16f9b8bbbb4e/image.JPG)\r\n\r\nSwaggerëŠ” API ë¬¸ì„œì˜ ì‘ì„±ì„ ìœ„í•´ í”„ë¡œë•ì…˜ ì½”ë“œì— ì¶”ê°€ì ì¸ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼í•œë‹¤. \r\nê·¸ë˜ì„œ Swaggerì˜ ì‚¬ìš©ì€ í”„ë¡œë•ì…˜ ì½”ë“œì˜ ê°€ë…ì„±ì„ ë–¨ì–´íŠ¸ë¦°ë‹¤ê³  ìƒê°í•œë‹¤.\r\n\r\në°˜ëŒ€ë¡œ, Spring Rest DocsëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì— ì˜ì¡´ì ì´ê¸° ë•Œë¬¸ì— Spring Rest Docsë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤ê³  ìƒê°í•œë‹¤.\r\n\r\n## MockMvc vs Rest Assured\r\nSpring Rest Docsë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì„œë¥¼ ì‘ì„± í•˜ë ¤ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ í•„ìš”í•˜ë‹¤.\r\ní…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„± í•  ë•Œ, ëŒ€í‘œì ìœ¼ë¡œ MockMvcì™€ Rest Assuredë¥¼ ì‚¬ìš©í•œë‹¤.\r\n\r\nMockMvcë¥¼ ì‚¬ìš©í•˜ë©´  `@WebMvcTest`ë¡œ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤.\r\nê·¸ë˜ì„œ Controller Layerë§Œìœ¼ë¡œ í…ŒìŠ¤íŠ¸ í•˜ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ ì†ë„ê°€ ë¹ ë¥´ë‹¤.\r\n\r\në°˜ë©´, RestAssuredëŠ” `@SpringBootTest`ë¡œ ìˆ˜í–‰í•´ì•¼í•œë‹¤. ê·¸ëŸ¬ë©´ ì „ì²´ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¡œë“œí•˜ì—¬ ë¹ˆì„ ì£¼ì…í•˜ê¸°ì— í…ŒìŠ¤íŠ¸ ì†ë„ê°€ ëŠë¦¬ë‹¤.\r\ní•˜ì§€ë§Œ, ì‹¤ì œ ê°ì²´ë¥¼ í†µí•œ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ì˜ ì‹ ë¢°ì„±ì´ ë†’ë‹¤.\r\n\r\ní†µí•© í…ŒìŠ¤íŠ¸, ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ì˜ ê²½ìš° RestAssuerdê°€ ì¢‹ì„ ìˆ˜ ìˆì§€ë§Œ, ë¬¸ì„œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ì—ëŠ” MockMvcê°€ ë” ì ì ˆí•˜ë‹¤ê³  ìƒê°í•œë‹¤.\r\n\r\n**_ğŸ’¡ @WebMvcTestì™€ @SpringBootTest_**\r\n@WebMvcTestëŠ” Application Contextë¥¼ ì™„ì „í•˜ê²Œ Startí•˜ì§€ ì•Šê³  Present Layer ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ë§Œ ìŠ¤ìº”í•˜ì—¬ ë¹ˆ ë“±ë¡í•œë‹¤.\r\në°˜ë©´, @SpringBootTestì˜ ê²½ìš° ëª¨ë“  ë¹ˆì„ ë¡œë“œí•˜ì—¬ ë“±ë¡í•œë‹¤.\r\n\r\n\r\n## AsciiDoc\r\n\r\nSpring Boot Rest DocsëŠ” Asciidocë¥¼ ë¬¸ì„œ ë²ˆì—­ì„ ìœ„í•œ í…ìŠ¤íŠ¸ í”„ë¡œì„¸ì„œë¡œ ì‚¬ìš©í•œë‹¤.\r\n\r\n## Rest Docs API ë¬¸ì„œ ìƒì„± ë§¤ì»¤ë‹ˆì¦˜\r\nìš°ì„ , Rest Docsì˜ ë¬¸ì„œ ìƒì„± ë§¤ì»¤ë‹ˆì¦˜ì„ ì‚´í´ë³´ì.\r\n\r\n1. MockMvcë¡œ ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•œë‹¤.\r\n\r\n2. í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ `build/generated-snippets` í•˜ìœ„ì— ìŠ¤ë‹ˆí«(ë¬¸ì„œì¡°ê°)ë“¤ì´ ìƒì„±ëœë‹¤. \r\n![](https://velog.velcdn.com/images/gudonghee2000/post/f4555336-cc43-4cc7-b7ca-8c1f903b2afd/image.png)\r\n\r\n   _â—â— gradleì€ build/generated-snippetsì— ìŠ¤ë‹ˆí«ì´ ìƒì„±ëœë‹¤._\r\n\r\n3. `build/generated-snippets` í•˜ìœ„ì— ìƒì„±ëœ ìŠ¤ë‹ˆí«ë“¤ì„ ë¬¶ì–´ì„œ HTML ë¬¸ì„œë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ”, gradleì˜ ê²½ìš° ì•„ë˜ì™€ ê°™ì´`src/docs/asciidoc` í•˜ìœ„ì— ìŠ¤ë‹ˆí«ë“¤ì„ ë¬¶ì€ adocë¬¸ì„œë¥¼ ë§Œë“ ë‹¤.![](https://velog.velcdn.com/images/gudonghee2000/post/bc769cd9-2fd2-483d-8c65-a4885f628e37/image.png)\r\n\r\n4. ìŠ¤ë‹ˆí«ì„ ì´ìš©í•´ì„œ `src/docs/asciidoc` í•˜ìœ„ì— adoc íŒŒì¼ì„ ìƒì„±í–ˆë‹¤ë©´, `./gradlew build` ëª…ë ¹ì–´ë¥¼ í†µí•´ ë¹Œë“œë¥¼ í•´ì¤€ë‹¤.\r\n![](https://velog.velcdn.com/images/gudonghee2000/post/f1948f04-9742-4267-8d19-3d962097f129/image.png)\r\në¹Œë“œê°€ ì™„ë£Œë˜ë©´ ìœ„ì™€ ê°™ì´ `resources - static - docs` í•˜ìœ„ì— HTML ë¬¸ì„œê°€ ìƒì„±ëœë‹¤.\r\n\r\n5. ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰ í•œ í›„, `http://localhost:8080/docs/{HTML íŒŒì¼ëª…}` ì„ ì›¹ë¸Œë¼ìš°ì €ì— ê²€ìƒ‰í•˜ë©´ ìƒì„±í•œ REST API ë¬¸ì„œë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. \r\n\r\n\t**â—â— APIë¬¸ì„œ urlì€ ì½”ë“œë¥¼ í†µí•´ ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤.**\r\n    \r\n### â—ìœ ì˜í•  ì \r\nresources - static - docs í•˜ìœ„ì˜ HTML íŒŒì¼ì€ ì‹¤ì œë¡œëŠ” build.gradleì˜ ì„¤ì •íŒŒì¼ì— ë”°ë¼ì„œ ìœ„ì™€ê°™ì´ build - docs - asciidoc í•˜ìœ„ì˜ HTML íŒŒì¼ì„ ë³µì‚¬í•´ì˜¨ íŒŒì¼ì´ë‹¤.\r\n![](https://velog.velcdn.com/images/gudonghee2000/post/7b70d45e-15a7-4278-9e3a-033370c2a600/image.png)\r\n\r\n### ì•„ì´ë””ì–´\r\nREST API ë¬¸ì„œë¥¼ í™•ì¸í•  ë•Œ, `http://localhost:8080/docs/{HTML íŒŒì¼ëª…}` ì„ í†µí•´ì„œ ì›¹ë¸Œë¼ìš°ì €ì— ì ‘ê·¼í•˜ì§€ ì•Šì•„ë„ í™•ì¸í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.\r\n![](https://velog.velcdn.com/images/gudonghee2000/post/8f5177d6-5ba0-4f3e-be3a-3cba37012c46/image.png)\r\nAsciiDoc í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ë©´ ìœ„ì™€ê°™ì´, ì¸í…”ë¦¬ì œì´ ìƒì—ì„œë„ REST API ë¬¸ì„œë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í• ìˆ˜ ìˆë‹¤.  (âœ”ì„¤ì¹˜ ì¶”ì²œ)\r\n\r\n## Rest Docs ì‚¬ìš©ì„ ìœ„í•œ ë¹Œë“œíŒŒì¼ ì„¤ì •\r\n``` java\r\nplugins {\r\n    id 'org.asciidoctor.jvm.convert' version '3.3.2' // 1\r\n}\r\n\r\next {\r\n    snippetsDir = file('build/generated-snippets') // 2\r\n}\r\n\r\ntest { \r\n    outputs.dir snippetsDir // 3\r\n    useJUnitPlatform()\r\n}\r\n\r\nconfigurations {\r\n    asciidoctorExtensions\r\n}\r\n\r\nasciidoctor { // 4\r\n    configurations 'asciidoctorExtensions' \r\n    inputs.dir snippetsDir \r\n    dependsOn test\r\n}\r\n\r\ndependencies {\r\n    testImplementation 'org.springframework.restdocs:spring-restdocs-mockmvc' // 5\r\n    asciidoctorExtensions 'org.springframework.restdocs:spring-restdocs-asciidoctor' // 6\r\n}\r\n\r\ntask copyDocument(type: Copy) { // 7\r\n    dependsOn asciidoctor\r\n    \r\n    from file(\"build/docs/asciidoc\")\r\n    into file(\"src/main/resources/static/docs\")\r\n}\r\n\t\r\nbootJar { \r\n    dependsOn copyDocument // 8\r\n}\r\n  ```\r\n\r\n\r\n1. gradle7ë¶€í„° ì‚¬ìš©í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ asciidoc íŒŒì¼ ë³€í™˜, build ë””ë ‰í† ë¦¬ì— ë³µì‚¬í•˜ëŠ” í”ŒëŸ¬ê·¸ì¸ì´ë‹¤.\r\n\r\n2. ìƒì„±ëœ ìŠ¤ë‹ˆí«ì„ ì €ì¥í•  ìœ„ì¹˜ë¥¼ ì •ì˜í•œë‹¤. gradleì€ `build/generated-snippets`ì— ìŠ¤ë‹ˆí«ì´ ìƒì„±ëœë‹¤.\r\n\r\n3. í…ŒìŠ¤íŠ¸ Taskì˜ ê²°ê³¼ ì•„ì›ƒí’‹ ë””ë ‰í† ë¦¬ë¥¼ `build/generated-snippets`ë¡œ ì§€ì •í•œë‹¤.\r\n\r\n4. asciidoctor Taskê°€ ì‚¬ìš©í•  ì¸í’‹ ë””ë ‰í† ë¦¬ë¥¼ `build/generated-snippets`ë¡œ ì§€ì •í•œë‹¤.\r\n\tdependsOn testë¡œ ë¬¸ì„œê°€ ì‘ì„±ë˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.\r\n    \r\n5. MockMvcë¥¼ í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì˜ì¡´ì„±ì„ ì¶”ê°€ í•´ì¤€ë‹¤.\r\n\r\n6. ì¼ë°˜ í…ìŠ¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  HTML íŒŒì¼ì„ ìƒì„±í•˜ëŠ” ì˜ì¡´ì„±ì„ ì¶”ê°€ í•´ì¤€ë‹¤.\r\n\r\n7. asciidoctor Taskë¡œ ìƒì„±í•œ `build/docs/asciidoc`íŒŒì¼ì„ `src/main/resources/static/docs`ë¡œ ë³µì‚¬í•œë‹¤.\r\n\r\n8. bootJar ì‹¤í–‰ì‹œ copyDocumentë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ë„ë¡ í•œë‹¤.\r\n\r\n\r\n--- \r\n\r\nâœ…MockMvcë¥¼ ì‚¬ìš©í•œ Rest Docs í…ŒìŠ¤íŠ¸ ì‘ì„±ì„ ì•Œì•„ë³´ê¸° ì „ì— ìš°ì„  MockMvcì— ëŒ€í•´ ì•Œì•„ë³´ì.\r\n\r\n##MockMvc ê¸°ë³¸ ë©”ì„œë“œ\r\nì–´ë– í•œ ê²ƒë“¤ì´ ìˆëŠ”ì§€ ì•Œì•„ë³´ê³  ë°‘ì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ì.\r\n\r\n### perform()\r\nê°€ìƒì˜ requestë¥¼ ì²˜ë¦¬í•œë‹¤.\r\n\r\n```java\r\nmockMvc.perform(get(\"/api/schedules/?year=2022&month=7\"))\r\n```\r\n\r\n### andExpert()\r\nandExpert()\r\n\r\nì˜ˆìƒê°’ì„ ê²€ì¦í•œë‹¤. \r\n\r\n```java\r\n.andExpect(status().isOk())\r\n// status ê°’ì´ ì •ìƒì¸ ê²½ìš°ë¥¼ ê¸°ëŒ€í•˜ê³  ë§Œë“  ì²´ì´ë‹ ë©”ì†Œë“œì˜ ì¼ë¶€\r\n\r\n.andExpect(content().contentType(\"application/json;charset=utf-8\"))\r\n//contentTypeì„ ê²€ì¦\r\n```\r\n\r\n### andDo()\r\nìš”ì²­ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ë§¡ëŠ”ë‹¤. print() ë©”ì†Œë“œê°€ ì¼ë°˜ì ì´ë‹¤.\r\n\r\n```java\r\n.andDo(print())\r\n```\r\n\r\n### andReturn()\r\ní…ŒìŠ¤íŠ¸í•œ ê²°ê³¼ ê°ì²´ë¥¼ ë°›ì„ ë•Œ ì‚¬ìš©í•œë‹¤.\r\n\r\n```java\r\nMvcResult result = mockMvc.perform(get(\"/\"))\r\n.andDo(print())\r\n.andExpect(status().isOk())\r\n.andReturn();\r\n```\r\n\r\n## MockMvc ìš”ì²­ ë§Œë“¤ê¸°\r\nìš”ì²­ì„ ë§Œë“¤ ë•ŒëŠ” static ë©”ì„œë“œì¸ get, post, put, delete, fileUpload ë“±ì„ ì´ìš©í•´ì„œ MockHttpServletRequestBuilder ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì—ì„œ ì‹œì‘í•œë‹¤.\r\n\r\nMockHttpServletRequestBuilderëŠ” ServletRequestë¥¼ êµ¬ì„±í•˜ê¸°ì— í•„ìš”í•œ ë‹¤ì–‘í•œ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.\r\n![](https://velog.velcdn.com/images/gudonghee2000/post/ee7412c0-3698-4e26-9ad2-ce826495d20e/image.JPG)\r\nìœ„ ë©”ì„œë“œë“¤ì€ ë©”ì„œë“œ ì²´ì´ë‹ì„ ì§€ì›í•˜ê¸° ë•Œë¬¸ì—, ì•„ë˜ì™€ ê°™ì´ ìš”ì²­ ë°ì´í„°ë¥¼ ì—°ê²°í•´ì„œ ì‘ì„±í•˜ë©´ëœë‹¤.\r\n\r\n\r\n```java \r\n@Test\r\n    void test() throws Exception {\r\n        MockHttpServletRequestBuilder builder = get(\"/api/schedules\")\r\n                .param(\"year\", \"2022\")\r\n                .param(\"month\", \"7\")\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .header(\"sessionId\", \"ì„¸ì…˜ì•„ì´ë””ì…ë‹ˆë‹¤.\");\r\n\r\n        mockMvc.perform(builder)\r\n                .andExpect(status().isOk());\r\n    }\r\n\r\n```\r\n_**â—â— ìœ ì˜ í•  ì **_\r\nMockMvc.perform() ì˜ íŒŒë¼ë¯¸í„° ê°’ì´ MockHttpServletRequestBuilderì˜ ìƒìœ„ ê°ì²´ì´ë‹¤. \r\n\r\nê·¸ë˜ì„œ perform() íŒŒë¼ë¯¸í„°ë¡œ ì•„ë˜ì™€ ê°™ì´ ë„£ì–´ì£¼ì–´ë„ ì‘ë™ëœë‹¤.\r\n```java\r\n@Test\r\n    void test() throws Exception {\r\n        mockMvc.perform(get(\"/api/schedules\")\r\n                .param(\"year\", \"2022\")\r\n                .param(\"month\", \"7\")\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .header(\"sessionId\", \"ì„¸ì…˜ì•„ì´ë””ì…ë‹ˆë‹¤.\"))\r\n                .andExpect(status().isOk());\r\n    }\r\n```\r\n\r\n## MockMvc ì‹¤í–‰ ê²°ê³¼ ê²€ì¦\r\nperform()ì€ ë°˜í™˜ ê°’ìœ¼ë¡œ ResultActionsê°€ ë°˜í™˜ëœë‹¤.\r\nResultActionsì˜ andExpectëŠ” ìš”ì²­ ì‹¤í–‰ ê²°ê³¼ë¥¼ ê²€ì¦ í•˜ë ¤ë©´ ResultMatcherë¥¼ ë„˜ê²¨ì¤˜ì„œ ê²€ì¦í•´ì•¼í•œë‹¤.\r\nResultMatcherëŠ” ë‹¤ìŒì˜ MockMvcResultMatchersê°€ ê°€ì§€ëŠ” static ë©”ì„œë“œë¥¼ í†µí•´ì„œ ì–»ëŠ”ë‹¤.\r\n\r\nMockMvcResultMatchersëŠ” ë‹¤ìŒì˜ static ë©”ì„œë“œë¥¼ í†µí•´ ë‹¤ì–‘í•œ ResultMatcherë¥¼ ì œê³µí•œë‹¤.\r\n\r\n![](https://velog.velcdn.com/images/gudonghee2000/post/f1d670a7-c355-4c1c-9d01-2d84ea6412b7/image.JPG)\r\n\r\nì•„ë˜ì˜ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì.\r\n```java\r\n\t@Test\r\n    void test() throws Exception {\r\n        mockMvc.perform(builder)\r\n                .andExpect(handler().handlerType(ScheduleController.class))\r\n                .andExpect(handler().methodName(\"save\"))\r\n                .andExpect(forwardedUrl(\"index\"))\r\n                .andExpect(header().stringValues(\"Content-Language\", \"en\"))\r\n                .andExpect(model().attribute(\"message\", \"ì €ì¥ì´ ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.\"))\r\n                .andExpect(status().isOk());\r\n    }\r\n```\r\n\r\n## MockMvc ì‹¤í–‰ ê²°ê³¼ ì²˜ë¦¬\r\nì‹¤í–‰ ê²°ê³¼ë¥¼ ì¶œë ¥í•  ë–„ëŠ” andDo ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤.\r\nandDo ë©”ì„œë“œ ì˜ ì¸ìˆ˜ì—ëŠ” ì‹¤í–‰ ê²°ê³¼ë¥¼ ì²˜ë¦¬ í•  ìˆ˜ ìˆëŠ” ResultHandlerë¥¼ ì§€ì •í•œë‹¤.\r\nMockMvcResultHandlersëŠ” ë‹¤ì–‘í•œ ResultHandlerë¥¼ ì œê³µí•˜ì§€ë§Œ print()ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.\r\n\r\n\r\n## MockMvcë¥¼ ì‚¬ìš©í•œ Rest Docs ìƒì„±\r\ní…ŒìŠ¤íŠ¸ ì½”ë“œì™€ í•¨ê»˜ MockMvcë¥¼ ì‚¬ìš©í•œ Rest Docs ìƒì„±ì„ ì•Œì•„ë³´ì.\r\n\r\n```java\r\n@WebMvcTest(ScheduleController.class)\r\n@AutoConfigureRestDocs // 1\r\nclass ScheduleControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @MockBean // 2\r\n    private ScheduleService scheduleService;\r\n\r\n    @Test\r\n    void save() throws Exception {\r\n        // given\r\n        ScheduleCreateRequest request = new ScheduleCreateRequest(\"ì œëª©\", LocalDateTime.now(), LocalDateTime.now(), \"ë©”ëª¨\");\r\n\r\n        given(scheduleService.save(request))\r\n                .willReturn(1L); // 3\r\n\r\n        // when & then\r\n        mockMvc.perform(post(\"/api/schedules\")\r\n                        .content(objectMapper.writeValueAsString(request))\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isOk())\r\n                .andDo(document(\"schedule-save\", // 4\r\n                        requestFields(\r\n                                fieldWithPath(\"title\").type(JsonFieldType.STRING).description(\"ì œëª©\"),\r\n                                fieldWithPath(\"startDateTime\").type(JsonFieldType.STRING)\r\n                                        .description(\"2022-07-04T13:00\"),\r\n                                fieldWithPath(\"endDateTime\").type(JsonFieldType.STRING).description(\"2022-07-05T07:00\"),\r\n                                fieldWithPath(\"memo\").type(JsonFieldType.STRING).description(\"ë©”ëª¨ì…ë‹ˆë‹¤.\")\r\n                        )\r\n                ));\r\n    }\r\n}\r\n```\r\n\r\n1. target/generated-snippets dir ìƒì„±í•˜ê³  í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ í†µí•´ snippetsë¥¼ ì¶”ê°€í•´ì£¼ëŠ” ì• ë…¸í…Œì´ì…˜ì´ë‹¤.\r\n\r\n2. `ScheduleService`ë¥¼ mockingì„ í•˜ê¸°ìœ„í•´ì„œ `@MockBean` ì„ ì„ ì–¸í•œë‹¤.\r\n\r\n3. mockingì„ í†µí•´ `ScheduleService` ë¥¼ í†µí•´ ë°›ì„ ì‘ë‹µê°’ì„ ì„¤ì •í•œë‹¤.\r\n\r\n4. test ìˆ˜í–‰ì‹œ `andDo(document(\"xxx\"))`ë¥¼ í†µí•´ì„œ `./build/generated-snippets` í•˜ìœ„ì— ë¬¸ì„œê°€ ì‘ì„±ëœë‹¤.\r\n\r\n\r\n---\r\n## ëë‚´ë©´ì„œ \r\nì´ìƒ Rest Docsì˜ ë§¤ì»¤ë‹ˆì¦˜, ì„¤ì • ê·¸ë¦¬ê³  MockMvcë¥¼ í™œìš©í•œ Rest Docs ìƒì„± ë°©ë²•ì„ ì‚´í´ë³´ì•˜ë‹¤.\r\ní”„ë¡œì íŠ¸ì— RestAssueredë¥¼ ì‚¬ìš©í•œ Rest Docsë¥¼ ì ìš©í•˜ë©´ì„œ í…ŒìŠ¤íŠ¸ ê²©ë¦¬ì— ë¬¸ì œë¥¼ ê²½í—˜í•˜ì˜€ëŠ”ë°,\r\ní…ŒìŠ¤íŠ¸ ê²©ë¦¬ì— ëŒ€í•´ì„œ ì¶”í›„ì— í¬ìŠ¤íŒ… í•´ë´ì•¼ê² ë‹¤.\r\n"}]}},"pageContext":{}},"staticQueryHashes":[]}