{"componentChunkName":"component---src-templates-post-jsx","path":"/get-valid-accessToken/","result":{"data":{"site":{"siteMetadata":{"title":"dal.log"}},"markdownRemark":{"id":"623f9105-974d-51b9-84c7-f6298a8d1c19","excerpt":"ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ ë‚˜ì¸ì´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ğŸ˜‚ë¡œê·¸ì¸ì´ ë„ˆë¬´ ì§§ì•„ìš” ë‹¬ë¡ ì„œë¹„ìŠ¤ë¥¼ ë°°í¬í•˜ê³  ì‚¬ìš©ìë“¤ë¡œë¶€í„° ë§ì€ í”¼ë“œë°±ê³¼ QAë¥¼ ë°›ì•˜ì–´ìš”. ë•ë¶„ì— ë¹ ë¥¸ ì‹œê°„ ë‚´ì— ë§ì€ ë¬¸ì œì ë“¤ì„ í•´ê²°í•  ìˆ˜ ìˆì—ˆì–´ìš”. ê·¸ ì¤‘ì—ì„œ ë¡œê·¸ì¸ì´ ë„ˆë¬´ ì§§ë‹¤ëŠ” ì˜ê²¬ì´ ìˆì—ˆì–´ìš”. ì•„ë¬´ë˜ë„ ë‹¬ë ¥ì€ ë§¤ì¼ í™•ì¸í•˜ëŠ” ë„ë©”ì¸ì´ë‹¤ë³´ë‹ˆ, ë§¤ì¼ ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì•¼í•˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ì‚¬ìš©ìë“¤ì—ê²ŒëŠ” ì¢‹ì§€ â€¦","html":"<blockquote>\n<p>ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ <a href=\"https://github.com/jhy979\">ë‚˜ì¸</a>ì´ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<h2>ğŸ˜‚ë¡œê·¸ì¸ì´ ë„ˆë¬´ ì§§ì•„ìš”</h2>\n<p><a href=\"https://dallog.me\">ë‹¬ë¡ ì„œë¹„ìŠ¤</a>ë¥¼ ë°°í¬í•˜ê³  ì‚¬ìš©ìë“¤ë¡œë¶€í„° ë§ì€ í”¼ë“œë°±ê³¼ QAë¥¼ ë°›ì•˜ì–´ìš”. ë•ë¶„ì— ë¹ ë¥¸ ì‹œê°„ ë‚´ì— ë§ì€ ë¬¸ì œì ë“¤ì„ í•´ê²°í•  ìˆ˜ ìˆì—ˆì–´ìš”.</p>\n<blockquote>\n<p>ê·¸ ì¤‘ì—ì„œ ë¡œê·¸ì¸ì´ ë„ˆë¬´ ì§§ë‹¤ëŠ” ì˜ê²¬ì´ ìˆì—ˆì–´ìš”.</p>\n</blockquote>\n<p>ì•„ë¬´ë˜ë„ ë‹¬ë ¥ì€ ë§¤ì¼ í™•ì¸í•˜ëŠ” ë„ë©”ì¸ì´ë‹¤ë³´ë‹ˆ, ë§¤ì¼ ë‹¤ì‹œ ë¡œê·¸ì¸í•´ì•¼í•˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ì‚¬ìš©ìë“¤ì—ê²ŒëŠ” ì¢‹ì§€ ì•Šì€ ê²½í—˜ì„ ì œê³µí–ˆë˜ ê²ƒì´ì£ .</p>\n<p>ë¬¼ë¡  êµ¬ê¸€ ì•„ì´ë””ë¡œ ë¡œê·¸ì¸ì„ í•´ì„œ í„°ì¹˜ í•œ ë²ˆì´ë©´ ë¡œê·¸ì¸ì´ ë˜ê¸´ í•˜ì§€ë§Œ <code class=\"language-text\">ì´ì¡°ì°¨ë„ êµ‰ì¥íˆ ê·€ì°®ì€ ì¼ì´ì£ .</code></p>\n<hr>\n<h2>ì–´ë–»ê²Œ í• ê¹Œ</h2>\n<blockquote>\n<p>ë¡œê·¸ì¸ ì—°ì¥ íƒœìŠ¤í¬ë¥¼ ë§¡ì€ ë°±ì—”ë“œ íŒ€ì›ê³¼ ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ì–´ë´¤ì–´ìš”.</p>\n</blockquote>\n<h3>ğŸ¤¯ ë¬¸ì œ ìƒí™© ì •ì˜</h3>\n<blockquote>\n<p>í˜„ì¬ accessTokenì˜ ìœ íš¨ê¸°ê°„ì´ 1ì¼ì´ì˜ˆìš”.</p>\n</blockquote>\n<p>1ì¼ì´ ì§€ë‚˜ë©´ accessTokenì€ ì“¸ëª¨ê°€ ì—†ì–´ì§€ê³  ë‹¤ì‹œ ë¡œê·¸ì¸ì„ í•´ì•¼í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•´ìš”. ì´ ê¸°ê°„ì´ ë„ˆë¬´ ì§§ë‹¤ëŠ” ê²ƒì´ ë¬¸ì œì„ì„ ì¸ì§€í–ˆìŠµë‹ˆë‹¤.</p>\n<hr>\n<h2>ğŸ”¨ í•´ê²° ë°©ë²•</h2>\n<h3>1. accessTokenì˜ ìœ íš¨ê¸°ê°„ì„ ê¸¸ê²Œ?</h3>\n<blockquote>\n<p>ê°€ì¥ ë¨¼ì € ë– ì˜¤ë¥¸ \"ë°©ë²•ì€ accessTokenì˜ ìœ íš¨ê¸°ê°„ì„ ëŠ˜ë¦°ë‹¤\" ì˜€ìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<p>ê¸°ê°„ì„ ë” ëŠ˜ë¦¬ë©´ ë‹¹ì—°íˆ í•´ê²°ë˜ëŠ” ë¬¸ì œì£ . <code class=\"language-text\">í•˜ì§€ë§Œ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.</code></p>\n<p>ğŸ˜‚ accessTokenì€ api ìš”ì²­ ì‹œ headerì— êµ‰ì¥íˆ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì •ë³´ì˜ˆìš”. ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ íƒˆì·¨ë  ê°€ëŠ¥ì„±ë„ ë” ë†’ë‹¤ê³  í•  ìˆ˜ ìˆê² ì£ .</p>\n<ul>\n<li>accessTokenì˜ ê¸°ê°„ì„ ë§Œì•½ í•œ ë‹¬ë¡œ ëŠ˜ë¦°ë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤. </li>\n<li>ì•…ì„± ì´ìš©ìê°€ í•œ ë‹¬ì§œë¦¬ accessTokenì„ íƒˆì·¨í–ˆë‹¤ë©´ í•œ ë‹¬ê°„ í•´ë‹¹ accessTokenìœ¼ë¡œ ë¬´ìŠ¨ ì§“ì´ë“  í•  ìˆ˜ ìˆê² ì£ ?</li>\n</ul>\n<p>ğŸ¤¦â€â™‚ï¸ ê²°ë¡ ì ìœ¼ë¡œ accessTokenì˜ ìœ íš¨ê¸°ê°„ì„ ëŠ˜ë¦¬ëŠ” ê²ƒì€ ìœ„í—˜í•œ ì¼ì´ë¼ê³  í•  ìˆ˜ ìˆì–´ìš”.</p>\n<p><strong>ì´ ë°©ì‹ì€ ì•„ë‹ˆë‹¤~</strong></p>\n<h3>2. ë§¤ë²ˆ ì¬ê²€ì¦ ë¡œì§</h3>\n<blockquote>\n<p>accessTokenì´ í•„ìš”í•œ api ìš”ì²­ë“¤ì„ ì²˜ë¦¬í•˜ê¸° ì „ì— \"accessTokenì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ì¬ê²€ì¦ ìš”ì²­ì„ ë¨¼ì € ì§„í–‰í•˜ì\" ë¼ëŠ” ì˜ê²¬ì´ ë‚˜ì™”ì–´ìš”.</p>\n</blockquote>\n<p>ì¬ê²€ì¦ ë¡œì§ì—ì„œ ë§Œì•½ ìœ íš¨í•˜ì§€ ì•Šì€ accessTokenì´ë¼ë©´ refreshTokenì„ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œìš´ accessTokenì„ ë°œê¸‰í•œë‹¤ëŠ” í•´ê²° ë°©ì•ˆì…ë‹ˆë‹¤.</p>\n<p>í•˜ì§€ë§Œ ì´ê²Œ ì •ë§ ê´œì°®ì€ ë°©ì‹ì¼ê¹Œìš”?</p>\n<p>ì•„ë˜ëŠ” ë‹¬ë¡ì˜ rest docsì…ë‹ˆë‹¤.\n<img src='https://velog.velcdn.com/images/jhy979/post/643a0d38-8131-422d-ad8f-64b2780c6277/image.png' width='700'></p>\n<p>accessTokenì„ í•„ìš”ë¡œ í•˜ëŠ” apiê°€ 20ê°œë‚˜ ë˜ëŠ”ë°ìš”, ì´ ìš”ì²­ë“¤ì˜ ì•ˆì „ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ë§¤ë²ˆ ì¬ê²€ì¦ ìš”ì²­ì„ ë³´ë‚¸ë‹¤...?</p>\n<p>ğŸ˜… ì´ ë°©ì‹ì€ <code class=\"language-text\">ë°°ë³´ë‹¤ ë°°ê¼½ì´ ë” í¬ë‹¤ê³  ìƒê°í–ˆì–´ìš”.</code></p>\n<ul>\n<li>í•˜ë£¨ì— í•œ ë²ˆ ë°œìƒí•˜ëŠ” ì¬ë¡œê·¸ì¸ ë•Œë¬¸ì— ë§¤ë²ˆ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ í•œ ë²ˆì”© ë”í•˜ëŠ” ê²ƒì´ ì–´ë¶ˆì„±ì„¤ì´ë¼ê³  ëŠê¼ˆê±°ë“ ìš”.</li>\n</ul>\n<p><strong>ë„ˆë„ ë‚˜ê°€ë¼~</strong></p>\n<h3>3. ì—ëŸ¬ ì‘ë‹µ ì½”ë“œë¡œ íŒë³„í•˜ì</h3>\n<blockquote>\n<p>ë§¤ë²ˆ ìš”ì²­ì„ ë³´ë‚´ì§€ ë§ê³  íŠ¹ì • ì—ëŸ¬ ì‘ë‹µì½”ë“œ(invalid accessToken)ê°€ ì˜¬ ë•Œë§Œ accessTokenì„ ì¬ë°œê¸‰ ë°›ìœ¼ë©´ ë˜ì§€ ì•Šì„ê¹Œ?</p>\n</blockquote>\n<p>ì €í¬ ë‹¬ë¡ì€ accessTokenì´ ìœ ìš©í•˜ì§€ ì•Šì„ë•Œ 401 ì‘ë‹µì½”ë“œë¥¼ ë³´ë‚´ì£¼ê³  ìˆì–´ìš”.\n<img src='https://velog.velcdn.com/images/jhy979/post/5ed347d5-bd05-4a75-a156-fc6e35303dc0/image.png' width='300'></p>\n<p>ê·¸ë ‡ë‹¤ë©´ 401 status codeë¥¼ ë°›ì•˜ì„ë•Œ í›„ì† ì²˜ë¦¬ë¡œ refreshTokenìœ¼ë¡œ accessTokenì„ ë°›ìœ¼ë©´ ë˜ì§€ ì•Šì„ê¹Œìš”?</p>\n<p>ê·¸ë ‡ë‹¤ë©´ 2ë²ˆì§¸ í•´ê²°ë°©ë²•ì²˜ëŸ¼ ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ë„ í•„ìš”ì—†ì„ ê²ƒ ê°™ì•„ìš”.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// accessToken ì¬ë°œê¸‰ì„ ìœ„í•œ react-queryë¬¸</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> mutate <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useLoginAgain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// react-query queryClientì˜ ì „ì—­ onError</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onError</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>error<span class=\"token operator\">:</span> <span class=\"token builtin\">unknown</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  \t<span class=\"token comment\">// 401 ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ê²½ìš°</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">AxiosError</span> <span class=\"token operator\">&amp;&amp;</span> error<span class=\"token punctuation\">.</span>response<span class=\"token operator\">?.</span>status <span class=\"token operator\">===</span> <span class=\"token constant\">RESPONSE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STATUS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">UNAUTHORIZED</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// refreshTokenìœ¼ë¡œ accessTokenì„ ì¬ë°œê¸‰í•´ì£¼ì„¸ìš”!</span>\n      <span class=\"token function\">mutate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ëŸ° ì‹ìœ¼ë¡œ ì „ì—­ queryClientì— onError ë¡œì§ì„ ë‹¬ì•„ì£¼ì—ˆì–´ìš”. ê·¸ë ‡ë‹¤ë©´ ë‹¬ë¡ì˜ ëª¨ë“  ìš”ì²­ ì¤‘ì—ì„œ <code class=\"language-text\">401 ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ì— ëŒ€í•´ ì¬ë°œê¸‰ ìš”ì²­ì´ ê°€ëŠ¥í•˜ê² ì£ ?</code></p>\n<p>ğŸ¥µ í•˜ì§€ë§Œ ì´ ë°©ì‹ë„ ìš°ì•„í•˜ì§€ ì•Šì•˜ì–´ìš”...</p>\n<p>ì•„ë˜ëŠ” ë‹¬ë¡ì˜ ë‹¬ë ¥ í˜ì´ì§€ ì ‘ì† ì‹œ ìš”ì²­í•˜ëŠ” apië“¤ì´ì˜ˆìš”.\n<img src='https://velog.velcdn.com/images/jhy979/post/7410a969-d29f-4457-baa2-8f897df2475a/image.png' width='500'></p>\n<ul>\n<li>ì´ 5ê°œì˜ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ë°œìƒí•˜ëŠ”ë°ìš”, ì´ ì¤‘ì—ì„œ <code class=\"language-text\">4ê°œê°€ accessTokenì´ í•„ìš”í•œ ìš”ì²­ë“¤ì…ë‹ˆë‹¤.</code></li>\n<li>ë§Œì•½ accessTokenì´ ìœ íš¨í•˜ì§€ ì•Šê²Œ ëœë‹¤ë©´ 401 ì—ëŸ¬ê°€ 4ê°œ ë°œìƒí•˜ê²Œ ë  ê±°ì˜ˆìš”.</li>\n</ul>\n<p>ğŸ¤” ì „ì—­ìœ¼ë¡œ onErrorë¥¼ ë‹¬ì•„ë‘ì—ˆê¸° ë•Œë¬¸ì— <code class=\"language-text\">accessToken ì¬ë°œê¸‰ ìš”ì²­ë„ ë°˜ë³µì ìœ¼ë¡œ 4ë²ˆ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.</code></p>\n<p>ì¬ë°œê¸‰ ìš”ì²­ì„ í•œ ë²ˆë§Œ ìš”ì²­í•˜ë©´ ë˜ëŠ”ë° ë¬´ë ¤ 4ë²ˆì´ë‚˜ ë³´ë‚´ê³  ìˆë„¤ìš”. ì ‘ê·¼ ë°©ì‹ì€ ì¢‹ì•˜ìœ¼ë‚˜ ì´ íŠ¸ëŸ¬ë¸”ë„ í•´ê²°í•´ì•¼ê² ì–´ìš”.</p>\n<h3>4. ì—ëŸ¬ ì‘ë‹µ ì½”ë“œ + ë°˜ë³µ ë°œìƒí•˜ëŠ” ì¬ë°œê¸‰ ì¿¼ë¦¬ ë¬´ì‹œ</h3>\n<blockquote>\n<p>ì¬ë°œê¸‰ ì¿¼ë¦¬ê°€ ì§„í–‰ì¤‘ì´ë¼ë©´ ì´ë¥¼ ë¬´ì‹œí•´ì•¼ê² ì–´ìš”.</p>\n</blockquote>\n<p>ì—¬íƒœê¹Œì§€ Mutation ì‘ì—…ì— í‚¤ê°’ì„ ì ìš©í•˜ì§€ ì•Šì•˜ì—ˆëŠ”ë°ìš”, ì´ì œì•¼ MutateKeyê°’ì„ ë‹¬ì•„ì•¼í•  í•„ìš”ì„±ì´ ìƒê²¼ë„¤ìš”.</p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// accessToken ì¬ë°œê¸‰ì„ ìœ„í•œ react-queryë¬¸</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> mutate <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">useLoginAgain</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ğŸ™Œ accessToken ì¬ë°œê¸‰ mutateê°€ ì§„í–‰ì¤‘ì¸ê°€ìš”?</span>\n<span class=\"token keyword\">const</span> isMutatingLoginAgain <span class=\"token operator\">=</span> <span class=\"token function\">useIsMutating</span><span class=\"token punctuation\">(</span><span class=\"token constant\">CACHE_KEY</span><span class=\"token punctuation\">.</span><span class=\"token constant\">LOGIN_AGAIN</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// react-query queryClientì˜ ì „ì—­ onError</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onError</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>error<span class=\"token operator\">:</span> <span class=\"token builtin\">unknown</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">AxiosError</span> <span class=\"token operator\">&amp;&amp;</span> error<span class=\"token punctuation\">.</span>response<span class=\"token operator\">?.</span>status <span class=\"token operator\">===</span> <span class=\"token constant\">RESPONSE</span><span class=\"token punctuation\">.</span><span class=\"token constant\">STATUS</span><span class=\"token punctuation\">.</span><span class=\"token constant\">UNAUTHORIZED</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// âœ‹ ì¬ë°œê¸‰ ì¤‘ì´ ì•„ë‹ë•Œì—ë§Œ ì¬ë°œê¸‰ ìš”ì²­ ë³´ë‚´ì£¼ì„¸ìš”. (ì¬ë°œê¸‰ ì¤‘ì´ë©´ mutate ë¬´ì‹œ)</span>\n      <span class=\"token operator\">!</span>isMutatingLoginAgain <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">mutate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ğŸ˜‰ ì‹¤ì œë¡œ ì¬ë°œê¸‰ ìš”ì²­ì´ í•œ ë²ˆë§Œ ê°€ëŠ”ì§€ í™•ì¸í•´ë³¼ê¹Œìš”?</p>\n<img src='https://velog.velcdn.com/images/jhy979/post/4d764f96-c622-4903-a2d3-8708a879cf67/image.png' width='500'>\n<p><code class=\"language-text\">access</code>ê°€ accessTokenì„ ì¬ë°œê¸‰í•˜ëŠ” ìš”ì²­ì´ì˜ˆìš”. ë³¼ ìˆ˜ ìˆë“¯ì´ ë”± í•œë²ˆë§Œ ìš”ì²­ì´ ê°€ê³  ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆë„¤ìš”. ì•„ì£¼ êµ¿~</p>\n<hr>\n<h2>ğŸ˜› ë” ë‚˜ì•„ê°€ê¸°</h2>\n<h3>ì‹¤íŒ¨í–ˆë˜ ìš”ì²­ë“¤ê¹Œì§€ ì²˜ë¦¬</h3>\n<blockquote>\n<p>ë” ë‚˜ì•„ê°€ 401ë¡œ ì‹¤íŒ¨í–ˆë˜ ìš”ì²­ë“¤ì„ ë‹¤ì‹œ ì‹¤í–‰ì‹œì¼œì¤„ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”.</p>\n</blockquote>\n<ol>\n<li>mutation í‚¤ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ 401 <code class=\"language-text\">ì—ëŸ¬ê°€ ë°œìƒí–ˆë˜ ìš”ì²­ë“¤ì— ëŒ€í•´ì„œ ì €ì¥</code>í•œ ë‹¤ìŒ </li>\n<li>accessTokenì„ ì¬ë°œê¸‰ ë°›ì•„ <code class=\"language-text\">ìœ íš¨ì„±ì„ í™•ì‹ ì‹œ</code>í•˜ê³ </li>\n<li>ì €ì¥í–ˆë˜ (ì—ëŸ¬ê°€ ë‚¬ë˜) ìš”ì²­ë“¤ì„ ë‹¤ì‹œ (ìœ íš¨í•œ accessTokenìœ¼ë¡œ) ì‹¤í–‰ì‹œì¼œì¤„ ìˆ˜ ìˆì„ ê²ƒ ê°™ë„¤ìš”.</li>\n</ol>\n<h3>ë§Œì•½ react-queryë¥¼ ì“°ì§€ ì•Šì•˜ë‹¤ë©´?</h3>\n<blockquote>\n<p>ğŸ¤¯ í˜„ì¬ëŠ” react-queryë¥¼ ì“°ê³  ìˆì–´ì„œ ì´ëŸ° mutating ê³¼ì •ì„ ì œê°€ ì²´í¬í•  ìˆ˜ ìˆì—ˆëŠ”ë°ìš” ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ë¼ë©´ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì—ˆì„ê¹Œìš”?</p>\n</blockquote>\n<p>ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  í•´ë„ <code class=\"language-text\">ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ ì»¤ìŠ¤í…€í›…ì„ ë§Œë“¤ ê²ƒ ê°™ì•„ìš”.</code></p>\n<p>ì˜ˆë¥¼ ë“¤ë©´ <code class=\"language-text\">useFetch</code> ë¼ëŠ” í›…ì„ ë§Œë“¤ì–´ì„œ <code class=\"language-text\">onError</code> ê³µí†µ ë¡œì§ì„ ì£¼ì…í•˜ì—¬ ì—ëŸ¬ í•¸ë“¤ë§ì„ ì§„í–‰í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤.</p>\n<p>401 ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ì§€ status codeë¥¼ í™•ì¸í•˜ì—¬ accessTokenì„ ì¬ë°œê¸‰í•˜ëŠ” ê³¼ì •ì„ ì§„í–‰í•´ì•¼ê² ì£ ?</p>","frontmatter":{"title":"refreshTokenìœ¼ë¡œ accessToken ì¬ë°œê¸‰í•˜ê¸°","date":"October 31, 2022","update":null,"tags":["trouble-shooting"],"series":null},"fields":{"slug":"/get-valid-accessToken/","readingTime":{"minutes":8.72}}},"seriesList":{"edges":[{"node":{"id":"a621dc7b-8590-5ec6-9b52-3d9e5182486d","fields":{"slug":"/appearance-background-of-jpa/"},"frontmatter":{"title":"JPA ë“±ì¥ë°°ê²½"}}},{"node":{"id":"9d2a87b6-2b9c-5b87-b790-3426d17c2d8e","fields":{"slug":"/intellij-final-keyword/"},"frontmatter":{"title":"IntelliJì—ì„œ ë©”ì†Œë“œ ì¶”ì¶œí•œ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì— final í‚¤ì›Œë“œ ìë™ ì¶”ê°€í•˜ê¸°"}}},{"node":{"id":"251e9767-1c92-5cf5-9cef-2c4a42c10df2","fields":{"slug":"/git-branch-strategy/"},"frontmatter":{"title":"ë‹¬ë¡íŒ€ì˜ git ë¸Œëœì¹˜ ì „ëµì„ ì†Œê°œí•©ë‹ˆë‹¤."}}},{"node":{"id":"5090cce3-0c1f-5376-badc-1d25e44c1bd9","fields":{"slug":"/infinite-scroll/"},"frontmatter":{"title":"Reactì—ì„œ ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„í•˜ê¸°"}}},{"node":{"id":"bcb53ba5-0286-5d10-96c2-fdcb88e2cc60","fields":{"slug":"/package-structure/"},"frontmatter":{"title":"ë‹¬ë¡ì— ì ì ˆí•œ íŒ¨í‚¤ì§€ êµ¬ì¡° ê³ ë¯¼í•˜ê¸°"}}},{"node":{"id":"a7fc89de-f37c-596e-a81d-3d4fe5a795b8","fields":{"slug":"/data-jpa-slice-page/"},"frontmatter":{"title":"Spring Data JPAì˜ Slice & Page"}}},{"node":{"id":"e1ba92ee-0cf0-50c8-80bd-5da5075df8d1","fields":{"slug":"/data-jpa-auditing/"},"frontmatter":{"title":"Spring Data JPAì˜ Auditing"}}},{"node":{"id":"3e036508-c916-504e-9e8d-89f69332471e","fields":{"slug":"/separated-interface/"},"frontmatter":{"title":"ì™¸ë¶€ì™€ ì˜ì¡´ì„± ë¶„ë¦¬í•˜ê¸°"}}},{"node":{"id":"cade544a-16ef-58a3-b97c-824986a8395f","fields":{"slug":"/apply-rest-docs/"},"frontmatter":{"title":"MockMvcë¥¼ ì‚¬ìš©í•œ Spring RestDocs"}}},{"node":{"id":"87649d54-d59e-58a6-afd5-8491eb4113a8","fields":{"slug":"/properties-to-object/"},"frontmatter":{"title":"properties ê°ì²´ë¡œ ë‹¤ë£¨ê¸°"}}},{"node":{"id":"eb380f6d-5a00-5a9e-a916-003fb292cc8a","fields":{"slug":"/test-fixture-constant/"},"frontmatter":{"title":"í…ŒìŠ¤íŠ¸ì—ì„œ Entity ê°ì²´ë¥¼ ìƒìˆ˜ë¡œ ë‘ë©´ ì•ˆ ë˜ëŠ” ì´ìœ "}}},{"node":{"id":"9734e30a-b430-5922-919d-f53808a56eb9","fields":{"slug":"/what_is_nginx/"},"frontmatter":{"title":"NGINX ë€?"}}},{"node":{"id":"9ebc6e21-2a76-5d42-be33-c2dae8c849b2","fields":{"slug":"/ssl_protocol/"},"frontmatter":{"title":"SSLì„ í†µí•œ HTTPSí†µì‹  ê³¼ì •"}}},{"node":{"id":"fa5ad595-1f81-5a20-a884-2da69adee3c5","fields":{"slug":"/integration-test-slice-test/"},"frontmatter":{"title":"í†µí•© í…ŒìŠ¤íŠ¸ì™€ ìŠ¬ë¼ì´ìŠ¤ í…ŒìŠ¤íŠ¸"}}},{"node":{"id":"d8c66823-bb05-5e83-a6a1-2fd9af450b6f","fields":{"slug":"/query-invalidation/"},"frontmatter":{"title":"React-Queryì—ì„œì˜ ë°ì´í„° ìµœì‹ í™” (Query Invalidation)"}}},{"node":{"id":"f5187517-342f-52a1-9092-d12c1a80d132","fields":{"slug":"/seperate-components/"},"frontmatter":{"title":"ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ê¸°ì¤€"}}},{"node":{"id":"d6249c8b-bea6-5c91-8477-d3dd15ad9b39","fields":{"slug":"/test-isolation/"},"frontmatter":{"title":"í…ŒìŠ¤íŠ¸ ê²©ë¦¬"}}},{"node":{"id":"98e390ef-fb19-5d01-a3ef-d14bc0e65176","fields":{"slug":"/dallog-jacoco/"},"frontmatter":{"title":"ë‹¬ë¡ì˜ Jacoco ì ìš©ê¸° (feat. Gradle)"}}},{"node":{"id":"33d19946-de0c-5b41-bfa0-d7c3fd80f10b","fields":{"slug":"/google-refresh-token/"},"frontmatter":{"title":"Googleì€ Refresh Tokenì„ ì‰½ê²Œ ë‚´ì£¼ì§€ ì•ŠëŠ”ë‹¤."}}},{"node":{"id":"8168857d-a82c-5608-bd40-cea4b917d17d","fields":{"slug":"/submodule/"},"frontmatter":{"title":"ë‹¬ë¡ ì„œë¸Œëª¨ë“ˆ ë„ì…ê¸°"}}},{"node":{"id":"836fc724-7e2f-5c7a-a42b-c0cc9163167a","fields":{"slug":"/dallog-flyway/"},"frontmatter":{"title":"ë‹¬ë¡ì˜ ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìœ„í•œ Flyway ì ìš©ê¸°"}}},{"node":{"id":"7a3bde6d-746b-56fd-8d91-0d8059ebf1f8","fields":{"slug":"/json-property-json-naming/"},"frontmatter":{"title":"@JsonProperty, @JsonNaming"}}},{"node":{"id":"50673f5c-f835-5982-b70c-b77e5a352a2c","fields":{"slug":"/servlet-life-cycle/"},"frontmatter":{"title":"ì„œë¸”ë¦¿ ìƒëª…ì£¼ê¸°ì™€ ì§ì ‘ë§Œë“  í†°ìº£ì„ í†µí•œ ì˜ë¬¸ì "}}},{"node":{"id":"61e7f4d1-7b3a-5968-bfe8-c3f6efb88748","fields":{"slug":"/preparing-for-performance-test/"},"frontmatter":{"title":"í†°ìº£ íŠœë‹ì„ ìœ„í•œ ë‹¬ë¡ì˜ ì„œë²„ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ê³¼ì •"}}},{"node":{"id":"9272061d-68c6-5f82-a961-0e2efe0fd6be","fields":{"slug":"/cyclic-dependency/"},"frontmatter":{"title":"cyclic dependency"}}},{"node":{"id":"6e779308-f266-58af-bfcc-e9fee6d39a98","fields":{"slug":"/multi-datasource-issue-with-osiv/"},"frontmatter":{"title":"ëŒ€ì²´ ì™œ DataSource ë¼ìš°íŒ…ì´ ì•ˆë˜ëŠ”ê±°ì•¼!? (feat. OSIV)"}}},{"node":{"id":"0e63245e-c52c-5977-9f60-f94ee0fd00fc","fields":{"slug":"/hikari-cp-theory/"},"frontmatter":{"title":"HikariCPì™€ ì ì ˆí•œ í’€ ì‚¬ì´ì¦ˆ ê³ ë¯¼í•˜ê¸° (ì´ë¡ í¸)"}}},{"node":{"id":"c7bea043-345c-5f78-ae53-796a83812961","fields":{"slug":"/react-query-useMutation-trouble-shooting/"},"frontmatter":{"title":"react-query useMutation onSuccess ì•ˆ ë˜ëŠ”ì¤„ ì•Œì•˜ë˜ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…"}}},{"node":{"id":"cf403487-1c48-5ca7-b5c2-ef0d8fefe3c4","fields":{"slug":"/jenkins-distributed-build-architecture/"},"frontmatter":{"title":"ì  í‚¨ìŠ¤ ë¶„ì‚° ë¹Œë“œ ì•„í‚¤í…ì²˜ êµ¬ì¶•"}}},{"node":{"id":"24c152c7-4e94-5b84-aaea-a5a9a8357693","fields":{"slug":"/zero-downtime-deployment/"},"frontmatter":{"title":"ë‹¬ë¡ ë¬´ì¤‘ë‹¨ ë°°í¬ ë„ì…ê¸°"}}},{"node":{"id":"623f9105-974d-51b9-84c7-f6298a8d1c19","fields":{"slug":"/get-valid-accessToken/"},"frontmatter":{"title":"refreshTokenìœ¼ë¡œ accessToken ì¬ë°œê¸‰í•˜ê¸°"}}}]},"previous":{"fields":{"slug":"/zero-downtime-deployment/"},"frontmatter":{"title":"ë‹¬ë¡ ë¬´ì¤‘ë‹¨ ë°°í¬ ë„ì…ê¸°"}},"next":null},"pageContext":{"id":"623f9105-974d-51b9-84c7-f6298a8d1c19","series":null,"previousPostId":"24c152c7-4e94-5b84-aaea-a5a9a8357693","nextPostId":null}},"staticQueryHashes":[]}