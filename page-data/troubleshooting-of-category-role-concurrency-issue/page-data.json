{"componentChunkName":"component---src-templates-post-jsx","path":"/troubleshooting-of-category-role-concurrency-issue/","result":{"data":{"site":{"siteMetadata":{"title":"dal.log"}},"markdownRemark":{"id":"fe27c1ec-d040-5cf4-934a-a5eeb2131dfb","excerpt":"ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ í›„ë””ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì˜¤ëœë§Œì˜ í¬ìŠ¤íŒ… ì…ë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” ë‹¬ë¡ì—ì„œ ë°œìƒí•œ ë™ì‹œì„± ì´ìŠˆë¥¼ JPAì˜ ë‚™ê´€ì  ë½ì„ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•œ ê²½í—˜ì— ëŒ€í•´ ê³µìœ ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ë¬¸ì œ ìƒí™© ë‹¬ë¡ì€ ì¹´í…Œê³ ë¦¬ ì—­í• ì´ë¼ëŠ” ë„ë©”ì¸ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ ì—­í• ì€ í˜„ì¬ëŠ” í¬ê²Œ  ê³¼  ìœ¼ë¡œ ë‚˜ë‰˜ì–´ì ¸ìˆìŠµë‹ˆë‹¤.  ì€ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì•„ë¬´ëŸ° ê¶Œí•œì„ ê°€ì§€ê³  ìˆì§€ ì•Šâ€¦","html":"<blockquote>\n<p>ì´ ê¸€ì€ ìš°í…Œì½” ë‹¬ë¡íŒ€ í¬ë£¨ <a href=\"https://github.com/devHudi\">í›„ë””</a>ê°€ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<p>ì˜¤ëœë§Œì˜ í¬ìŠ¤íŒ… ì…ë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” ë‹¬ë¡ì—ì„œ ë°œìƒí•œ ë™ì‹œì„± ì´ìŠˆë¥¼ JPAì˜ ë‚™ê´€ì  ë½ì„ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•œ ê²½í—˜ì— ëŒ€í•´ ê³µìœ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>\n<h2>ë¬¸ì œ ìƒí™©</h2>\n<p>ë‹¬ë¡ì€ ì¹´í…Œê³ ë¦¬ ì—­í• ì´ë¼ëŠ” ë„ë©”ì¸ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ì¹´í…Œê³ ë¦¬ ì—­í• ì€ í˜„ì¬ëŠ” í¬ê²Œ <code class=\"language-text\">NONE</code> ê³¼ <code class=\"language-text\">ADMIN</code> ìœ¼ë¡œ ë‚˜ë‰˜ì–´ì ¸ìˆìŠµë‹ˆë‹¤. <code class=\"language-text\">NONE</code> ì€ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì•„ë¬´ëŸ° ê¶Œí•œì„ ê°€ì§€ê³  ìˆì§€ ì•Šê³ , <code class=\"language-text\">ADMIN</code> ì€ ì¹´í…Œê³ ë¦¬ ì´ë¦„ ìˆ˜ì •, ì¹´í…Œê³ ë¦¬ ì œê±°, ì¼ì • ì¶”ê°€/ì œê±°/ìˆ˜ì • ë“±ì˜ ëª¨ë“  ê¶Œí•œì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë˜í•œ <code class=\"language-text\">ADMIN</code> ì€ ì¹´í…Œê³ ë¦¬ êµ¬ë…ìë“¤ì˜ ì¹´í…Œê³ ë¦¬ ì—­í• ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, <code class=\"language-text\">NONE</code> ì¸ êµ¬ë…ìë¥¼ <code class=\"language-text\">ADMIN</code> ìœ¼ë¡œ ìŠ¹ê²©í•  ìˆ˜ ìˆê³  ë°˜ëŒ€ë¡œ <code class=\"language-text\">ADMIN</code> ì¸ êµ¬ë…ìë¥¼ <code class=\"language-text\">NONE</code> ìœ¼ë¡œ ê¶Œí•œì„ ë°•íƒˆí• ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ê·¸ëŸ°ë° ë‹¬ë¡ì€ ì´ êµ¬ë…ì ì¹´í…Œê³ ë¦¬ ì—­í•  ë³€ê²½ ê¸°ëŠ¥ì—ì„œ ë™ì‹œì„± ì´ìŠˆê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤. User1ê³¼ User2ê°€ ë‘˜ë‹¤ <code class=\"language-text\">ADMIN</code> ì´ë¼ê³  ê°€ì •í•´ë´…ì‹œë‹¤. ì´ë•Œ, User1ê³¼ User2ê°€ ë™ì‹œì— ì„œë¡œì˜ ì¹´í…Œê³ ë¦¬ ì—­í• ì„ <code class=\"language-text\">NONE</code> ìœ¼ë¡œ ë³€ê²½í•˜ë©´, ì„œë¡œì˜ ì—­í• ì´ ë™ì‹œì— <code class=\"language-text\">NONE</code> ìœ¼ë¡œ ë³€ê²½ë©ë‹ˆë‹¤.</p>\n<p>ë‹¬ë¡ì—ì„œì˜ ì¹´í…Œê³ ë¦¬ëŠ” ìµœì†Œ 1ëª… ì´ìƒì˜ <code class=\"language-text\">ADMIN</code> ì´ ì¡´ì¬í•´ì•¼í•˜ëŠ” ë„ë©”ì¸ ì œì•½ ì¡°ê±´ì´ ì¡´ì¬í•©ë‹ˆë‹¤. <code class=\"language-text\">ADMIN</code> ì´ 1ëª…ë„ ì—†ë‹¤ë©´, ê·¸ ì¹´í…Œê³ ë¦¬ë¥¼ ì•„ë¬´ë„ ê´€ë¦¬í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ì£ . í•˜ì§€ë§Œ, ìœ„ì™€ ê°™ì€ ë™ì‹œì„± ì´ìŠˆê°€ ë°œìƒí•˜ë©´ ì•ì„œ ì´ì•¼ê¸°í•œ ë„ë©”ì¸ ì œì•½ ì¡°ê±´ì´ ê¹¨ì§€ê³ , ì¼ê´€ì„±ì´ ë¬´ë„ˆì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì¬í˜„í•´ë´…ì‹œë‹¤.</p>\n<h2>ë¬¸ì œ ì¬í˜„</h2>\n<blockquote>\n<p>ì•„ë˜ ì½”ë“œëŠ” ë¬¸ì œ ì¬í˜„ì„ ìœ„í•´ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œì…ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë°˜í™˜ê°’ì„ ë³´ê¸° ìœ„í•´ ì‘ì„±í•œ ì½”ë“œì´ë¯€ë¡œ ë³„ë„ì˜ assertionì€ ì—†ìŠµë‹ˆë‹¤.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">void</span> <span class=\"token function\">concurrency_test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// givenì ˆ ìƒëµ</span>\n\n    <span class=\"token comment\">// when</span>\n    <span class=\"token class-name\">Thread</span> thread1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> íšŒì›ì˜_ì¹´í…Œê³ ë¦¬_ì—­í• ì„_ë³€ê²½í•œë‹¤<span class=\"token punctuation\">(</span>ê´€ë¦¬ì<span class=\"token number\">2_</span>í† í°<span class=\"token punctuation\">,</span> ì¹´í…Œê³ ë¦¬<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ê´€ë¦¬ì<span class=\"token number\">1_</span>id<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CategoryRoleUpdateRequest</span><span class=\"token punctuation\">(</span><span class=\"token constant\">NONE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Thread</span> thread2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> íšŒì›ì˜_ì¹´í…Œê³ ë¦¬_ì—­í• ì„_ë³€ê²½í•œë‹¤<span class=\"token punctuation\">(</span>ê´€ë¦¬ì<span class=\"token number\">1_</span>í† í°<span class=\"token punctuation\">,</span> ì¹´í…Œê³ ë¦¬<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ê´€ë¦¬ì<span class=\"token number\">2_</span>id<span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CategoryRoleUpdateRequest</span><span class=\"token punctuation\">(</span><span class=\"token constant\">NONE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    thread1<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    thread2<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">Thread</span><span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// then</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>ìì‹ ì´_ADMINì¸_ì¹´í…Œê³ ë¦¬_ëª©ë¡ì„_ì¡°íšŒí•œë‹¤<span class=\"token punctuation\">(</span>ê´€ë¦¬ì<span class=\"token number\">1_</span>í† í°<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>ìì‹ ì´_ADMINì¸_ì¹´í…Œê³ ë¦¬_ëª©ë¡ì„_ì¡°íšŒí•œë‹¤<span class=\"token punctuation\">(</span>ê´€ë¦¬ì<span class=\"token number\">2_</span>í† í°<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Givenì ˆì—ì„œëŠ” ê´€ë¦¬ì1ê³¼ ê´€ë¦¬ì2 ì´ë¼ëŠ” ë‘ íšŒì›ì—ê²Œ <code class=\"language-text\">ê³µí†µ ì¼ì •</code> ì´ë¼ëŠ” ì¹´í…Œê³ ë¦¬ì— <code class=\"language-text\">ADMIN</code> ì—­í• ì„ ë¶€ì—¬í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ ì½”ë“œëŠ” ìƒëµí•©ë‹ˆë‹¤.</p>\n<p>Whenì ˆì„ ì‚´í´ë³´ë©´ <code class=\"language-text\">íšŒì›ì˜_ì¹´í…Œê³ ë¦¬_ì—­í• ì„_ë³€ê²½í•œë‹¤()</code> ë©”ì†Œë“œë¥¼ í†µí•´ ê´€ë¦¬ì1ê³¼ ê´€ë¦¬ì2ì€ ì„œë¡œì˜ ì¹´í…Œê³ ë¦¬ ì—­í• ì„ <code class=\"language-text\">NONE</code> ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. ë™ì‹œì„±ì„ ìœ„í•´ ì“°ë ˆë“œë¥¼ ìƒì„±í•˜ì—¬ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œ ì›¹ ì„œë²„ëŠ” ë©€í‹° ì“°ë ˆë“œë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì´ì£ . ëª¨ë“  APIì˜ ì‹¤í–‰ì´ ëë‚ ë•Œê¹Œì§€ 1ì´ˆê°€ëŸ‰ ê¸°ë‹¤ë¦° í›„ Thenì ˆì„ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>\n<p>Thenì ˆì„ ì‚´í´ë³´ë©´ <code class=\"language-text\">ìì‹ ì´_ADMINì¸_ì¹´í…Œê³ ë¦¬_ëª©ë¡ì„_ì¡°íšŒí•œë‹¤()</code> ë©”ì†Œë“œë¥¼ í†µí•´ ê´€ë¦¬ì1ê³¼ ê´€ë¦¬ì2ì˜ ì—­í• ì´ <code class=\"language-text\">ADMIN</code> ì¸ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤. ìš°ë¦¬ê°€ ì›ë˜ ê¸°ëŒ€í•˜ëŠ” ê²°ê³¼ëŠ” ê´€ë¦¬ì1 ë˜ëŠ” ê´€ë¦¬ì2 ì–´ëŠ í•œìª½ì€ <code class=\"language-text\">ê³µí†µ ì¼ì •</code> ì¹´í…Œê³ ë¦¬ì— ëŒ€í•´ <code class=\"language-text\">ADMIN</code> ì—­í• ì„ ê°€ì§€ê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë™ì‹œì„± ì´ìŠˆì˜ ë°œìƒìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ê°€ ë‚˜ì™”ìŠµë‹ˆë‹¤.</p>\n<h3>ê´€ë¦¬ì1 ê²°ê³¼</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"categories\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ë‚´ ì¼ì •\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"categoryType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"PERSONAL\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"creator\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"devhudi@gmail.com\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"displayName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"í›„ë””\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"profileImageUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/hudi.png\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"socialType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GOOGLE\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"createdAt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-11-06T00:06:44.98412\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>ê´€ë¦¬ì2 ê²°ê³¼</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"categories\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ë‚´ ì¼ì •\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"categoryType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"PERSONAL\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"creator\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dev.hyeonic@gmail.com\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"displayName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ë§¤íŠ¸\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"profileImageUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/mat.png\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"socialType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GOOGLE\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"createdAt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-11-06T00:06:45.582431\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê´€ë¦¬ì1, ê´€ë¦¬ì2 ë‘˜ ëª¨ë‘ <code class=\"language-text\">ê³µí†µ ì¼ì •</code> ì— ëŒ€í•œ <code class=\"language-text\">ADMIN</code> ì¹´í…Œê³ ë¦¬ ì—­í• ì„ ìƒì—ˆìŠµë‹ˆë‹¤. <code class=\"language-text\">ê³µí†µ ì¼ì •</code> ì¹´í…Œê³ ë¦¬ëŠ” ë”ì´ìƒ ê´€ë¦¬ìê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì¼ê´€ì„±ì´ ê¹¨ì§„ ì¹´í…Œê³ ë¦¬ê°€ ë˜ì–´ë²„ë ¸ìŠµë‹ˆë‹¤. ì´ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œìš”?</p>\n<h2>íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ìœ¼ë¡œ í•´ê²°ì´ ë˜ì§€ ì•ŠëŠ” ì´ìœ </h2>\n<p>ë™ì‹œì„± ì´ìŠˆì™€ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ì— ëŒ€í•œ ì´í•´ë„ê°€ ë‚®ì„ ë•Œì—ëŠ” ê²©ë¦¬ ìˆ˜ì¤€ì„ ì„¤ì •í•˜ëŠ” ê²ƒìœ¼ë¡œëŠ” ì™œ ì´ ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•ŠëŠ”ì§€ ì•Œì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ìµœê·¼ ë‚™ê´€ë½/ë¹„ê´€ë½ì— ëŒ€í•´ ê³µë¶€í•˜ë©´ì„œ ì›ì¸ì„ ì•Œê²Œ ë˜ì—ˆì–´ìš”.</p>\n<p>ë‹¬ë¡ì€ <code class=\"language-text\">CategoryRole</code> ì—”í‹°í‹°ë¥¼ í†µí•´ ì¹´í…Œê³ ë¦¬ ì—­í• ì„ ê´€ë¦¬í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ ì—”í‹°í‹°ëŠ” <code class=\"language-text\">category_roles</code> ë¼ëŠ” í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ í…Œì´ë¸”ì—” ë” ë§ì€ ì»¬ëŸ¼ì´ ìˆì§€ë§Œ, ëŒ€í‘œì ìœ¼ë¡œ <code class=\"language-text\">id</code> , <code class=\"language-text\">member_id</code> , <code class=\"language-text\">category_role</code> 3ê°œì˜ ì»¬ëŸ¼ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/680c5a7385b2c5ba12667a684f842f79/65922/image.jpg' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 51.764705882352935%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHstIC4/8QAGRAAAgMBAAAAAAAAAAAAAAAAAAEQISIx/9oACAEBAAEFArNC45//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAbEAACAwADAAAAAAAAAAAAAAAAAREhMRBBcf/aAAgBAQABPyF6tqxOUO14L2Mi3j//2gAMAwEAAgADAAAAEKPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRABAAICAgMAAAAAAAAAAAAAAQARITEQwUFxgf/aAAgBAQABPxDXLFRp7ZlTDSw4a5+nc0e41OfPH//Z'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='image' title='image' src='/static/680c5a7385b2c5ba12667a684f842f79/a22ce/image.jpg' srcset='/static/680c5a7385b2c5ba12667a684f842f79/0b705/image.jpg 170w,\n/static/680c5a7385b2c5ba12667a684f842f79/31389/image.jpg 340w,\n/static/680c5a7385b2c5ba12667a684f842f79/a22ce/image.jpg 680w,\n/static/680c5a7385b2c5ba12667a684f842f79/29373/image.jpg 1020w,\n/static/680c5a7385b2c5ba12667a684f842f79/65922/image.jpg 1357w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>ìœ„ì™€ ê°™ì´ ë™ì‹œì— 2ëª…ì˜ íšŒì›ì´ ì„œë¡œì˜ ì¹´í…Œê³ ë¦¬ ì—­í• ì„ ìˆ˜ì •í• ë•Œ, ì´ ë‘ íŠ¸ëœì­ì…˜ì€ ì„œë¡œ ë‹¤ë¥¸ í–‰ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. ì• ì´ˆì— ì–‘ íŠ¸ëœì­ì…˜ì´ ì„œë¡œ ê°„ì„­í•˜ì§€ ì•ŠëŠ” ìƒí™©ì´ë¯€ë¡œ íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€ìœ¼ë¡œ ì´ ë¬¸ì œëŠ” í•´ê²°í•  ìˆ˜ ì—†ì£ . ë‹¤ë¥¸ ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>\n<h2>JPAì˜ ë‚™ê´€ì  ë½ì„ ì‚¬ìš©í•œ ë™ì‹œì„± ì´ìŠˆ í•´ê²°</h2>\n<p>ë‚™ê´€ì  ë½ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ë™ì‹œì„± ì´ìŠˆë¥¼ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì…ë‹ˆë‹¤. JPAëŠ” ë‚™ê´€ì  ë½ê³¼ ë¹„ê´€ì  ë½ ë‘˜ë‹¤ ì§€ì›í•©ë‹ˆë‹¤. ë‚™ê´€ì  ë½ì€ ëŒ€ë¶€ë¶„ì˜ íŠ¸ëœì­ì…˜ì´ ì¶©ëŒì´ ë‚˜ì§€ ì•ŠëŠ” ë‚™ê´€ì ì¸ ìƒí™©ì„ ê°€ì •í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ë¹„ê´€ì  ë½ì€ ëŒ€ë¶€ë¶„ì˜ íŠ¸ëœì­ì…˜ì´ ì¶©ëŒì´ ë°œìƒí•  ê²ƒì´ë¼ê³  ë¹„ê´€ì ìœ¼ë¡œ ê°€ì •í•˜ê³  ìš°ì„ ì ìœ¼ë¡œ ë½ì„ ê±¸ê³  ë³´ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë‚™ê´€ì  ë½ê³¼ ë¹„ê´€ì  ë½ì— ëŒ€í•œ ê¹Šì€ ë‚´ìš©ì€ ì¡°ê¸ˆ ë” ê³µë¶€í•œ ë‹¤ìŒ ë³„ê°œ í¬ìŠ¤íŒ…ìœ¼ë¡œ ì‘ì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<p>ì„œë¡œ ë™ì‹œì— <code class=\"language-text\">ADMIN</code> ê¶Œí•œì„ ë‚´ë ¤ë²„ë¦¬ëŠ” ì¼ì€ ì‚¬ì‹¤ ìì£¼ ë°œìƒí•˜ì§€ ì•ŠëŠ” ìƒí™©ì´ì£ . ë”°ë¼ì„œ ì´ ê²½ìš°ì—ëŠ” ë‚™ê´€ì  ë½ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•©ë‹ˆë‹¤. ë¬´í„±ëŒ€ê³  ë¹„ê´€ì  ë½ì„ ê±¸ì–´ë²„ë¦¬ë©´, ë™ì‹œì„±ì´ ë–¨ì–´ì ¸ ì„±ëŠ¥ì ìœ¼ë¡œ ì†í•´ë¥¼ ë³¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´, ë‹¬ë¡ì€ ë‚™ê´€ì  ë½ì„ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ì—¬ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ì˜€ì„ê¹Œìš”?</p>\n<h3>ì—”í‹°í‹°ì— ë²„ì „ ì¶”ê°€</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Table</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string\">\"category_roles\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CategoryRole</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">BaseEntity</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token comment\">// ...</span>\n\n    <span class=\"token annotation punctuation\">@Version</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> version<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ...</span></code></pre></div>\n<p>JPAëŠ” ë‚™ê´€ì  ë½ì„ ë²„ì „ ê´€ë¦¬ë¥¼ í†µí•´ ì§€ì›í•©ë‹ˆë‹¤. ì´ ë²„ì „ì€ ì—”í‹°í‹°ì˜ ê°’ì„ ë³€ê²½í•˜ë©´ ì¦ê°€í•˜ê²Œ ë©ë‹ˆë‹¤. íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ëŠ” ì‹œì ì— ì¡°íšŒí•œ ì—”í‹°í‹°ì˜ ë²„ì „ê³¼ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì—”í‹°í‹° ë²„ì „ì„ ë¹„êµí•˜ì—¬ ì¶©ëŒ ì—¬ë¶€ë¥¼ ê°ì§€í•©ë‹ˆë‹¤.</p>\n<h3>ë ˆí¬ì§€í† ë¦¬ì— ë½ ì˜µì…˜ ì§€ì •</h3>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">CategoryRoleRepository</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">JpaRepository</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CategoryRole</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Lock</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">LockModeType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">OPTIMISTIC</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@Query</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT cr \"</span>\n            <span class=\"token operator\">+</span> <span class=\"token string\">\"FROM CategoryRole cr \"</span>\n            <span class=\"token operator\">+</span> <span class=\"token string\">\"WHERE cr.member.id = :memberId AND cr.category.id = :categoryId\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">Optional</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CategoryRole</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findByMemberIdAndCategoryId</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> categoryId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ...</span></code></pre></div>\n<p>ë‹¬ë¡ì€ Spring Data JPAë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ìœ„ì™€ ê°™ì´ Repository ë©”ì†Œë“œ ìœ„ì— <code class=\"language-text\">@Lock</code> ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•˜ì—¬ ë½ ì˜µì…˜ì„ ì§€ì •í•©ë‹ˆë‹¤.</p>\n<p><code class=\"language-text\">NONE</code> ì˜µì…˜ì€ ì¡°íšŒí•œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ë•Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ì˜í•´ ì´ ì—”í‹°í‹°ê°€ ë³€ê²½ë˜ì§€ ì•ŠìŒì„ ë³´ì¥í•©ë‹ˆë‹¤. ì¦‰, ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•´ì•¼ ë²„ì „ì„ ì²´í¬í•˜ì£ . ë°˜ë©´, ìœ„ ì½”ë“œì—ì„œ ì‚¬ìš©í•œ <code class=\"language-text\">OPTIMISTIC</code> ì˜µì…˜ì€ ì¡°íšŒí•œ ì—”í‹°í‹°ê°€ íŠ¸ëœì­ì…˜ ë™ì•ˆ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ì˜í•´ ë³€ê²½ë˜ì§€ ì•ŠìŒì„ ë³´ì¥í•©ë‹ˆë‹¤. ì¦‰, ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šë”ë¼ë„ ë²„ì „ì„ ì²´í¬í•´ìš”.</p>\n<p>ì¹´í…Œê³ ë¦¬ ì—­í•  ìˆ˜ì • íŠ¸ëœì­ì…˜ì€ ìê¸° ìì‹ ì˜ <code class=\"language-text\">CategoryRole</code> ì„ ì¡°íšŒí•˜ì—¬ ì—­í• ì´ <code class=\"language-text\">ADMIN</code> ì„ì„ í™•ì¸í•œ ì´í›„(ê¶Œí•œ í™•ì¸), ë‹¤ë¥¸ ì‚¬ëŒì˜ <code class=\"language-text\">CategoryRole</code> ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. ì¦‰, ì¡°íšŒë§Œ í•´ì˜¤ëŠ” ìê¸° ìì‹ ì˜ <code class=\"language-text\">CategoryRole</code> ì´ íŠ¸ëœì­ì…˜ ë‚´ë‚´ ë³€í™”í•˜ì§€ ì•ŠìŒì„ ë³´ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ <code class=\"language-text\">OPTIMISTIC</code> ë½ ì˜µì…˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>\n<h3>ì„œë¹„ìŠ¤ ì˜ˆì™¸ì²˜ë¦¬</h3>\n<p>ë‚™ê´€ì  ë½ì—ì„œ ë¬¸ì œê°€ ìƒê²¼ì„ ê²½ìš° JPAëŠ” <code class=\"language-text\">ObjectOptimisticLockingFailureException</code> ë¼ëŠ” ì˜ˆì™¸ë¥¼ ë˜ì§‘ë‹ˆë‹¤. ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ì¡°ê¸ˆ ë” ì¶”ìƒí™”ëœ ì˜ˆì™¸ë¡œ ë²ˆì—­í•´ì„œ ë˜ì§€ë„ë¡ ì½”ë“œë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Transactional</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">updateRole</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> loginMemberId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> memberId<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Long</span> categoryId<span class=\"token punctuation\">,</span>\n                       <span class=\"token keyword\">final</span> <span class=\"token class-name\">CategoryRoleUpdateRequest</span> request<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">CategoryRoleType</span> roleType <span class=\"token operator\">=</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">getCategoryRoleType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">validateAuthority</span><span class=\"token punctuation\">(</span>loginMemberId<span class=\"token punctuation\">,</span> categoryId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">validateSoleAdmin</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> categoryId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        categoryRoleRepository<span class=\"token punctuation\">.</span><span class=\"token function\">validateManagingCategoryLimit</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> roleType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">CategoryRole</span> categoryRole <span class=\"token operator\">=</span> categoryRoleRepository<span class=\"token punctuation\">.</span><span class=\"token function\">getByMemberIdAndCategoryId</span><span class=\"token punctuation\">(</span>memberId<span class=\"token punctuation\">,</span> categoryId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token function\">validateCategoryType</span><span class=\"token punctuation\">(</span>categoryRole<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        categoryRole<span class=\"token punctuation\">.</span><span class=\"token function\">changeRole</span><span class=\"token punctuation\">(</span>roleType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">ObjectOptimisticLockingFailureException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CategoryRoleConcurrencyException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">CategoryRoleConcurrencyException</code> ë¼ëŠ” ì»¤ìŠ¤í…€ ì˜ˆì™¸ë¥¼ ìƒì„±í•˜ì—¬, ë™ì‹œì„± ì´ìŠˆê°€ ë°œìƒí–ˆì„ ë•Œ ì´ ì˜ˆì™¸ë¥¼ ë˜ì§€ë„ë¡ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.</p>\n<h2>ë¬¸ì œ í•´ê²°</h2>\n<p>ë‹¤ì‹œ í•œë²ˆ ìœ„ì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•´ë´…ì‹œë‹¤. ì•„ë˜ì™€ ê°™ì´ ê´€ë¦¬ì1 ë˜ëŠ” ê´€ë¦¬ì2 ë‘˜ ì¤‘ í•œëª…ì€ <code class=\"language-text\">ê³µí†µ ì¼ì •</code> ì¹´í…Œê³ ë¦¬ê°€ ê´€ë¦¬ì¤‘ì¸ ì¹´í…Œê³ ë¦¬ ëª©ë¡ì—ì„œ ì œê±°ë˜ì§€ ì•ŠìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<h3>ê´€ë¦¬ì1 ê²°ê³¼</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"categories\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ë‚´ ì¼ì •\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"categoryType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"PERSONAL\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"creator\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"devhudi@gmail.com\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"displayName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"í›„ë””\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"profileImageUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/hudi.png\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"socialType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GOOGLE\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"createdAt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-11-06T00:58:39.262795\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ê³µí†µ ì¼ì •\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"categoryType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"NORMAL\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"creator\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"devhudi@gmail.com\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"displayName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"í›„ë””\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"profileImageUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/hudi.png\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"socialType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GOOGLE\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"createdAt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-11-06T00:58:39.483338\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>ê´€ë¦¬ì2 ê²°ê³¼</h3>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"categories\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ë‚´ ì¼ì •\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"categoryType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"PERSONAL\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"creator\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dev.hyeonic@gmail.com\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"displayName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ë§¤íŠ¸\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"profileImageUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/mat.png\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"socialType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"GOOGLE\"</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"createdAt\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-11-06T00:58:39.908153\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ìœ„ ê²°ê³¼ëŠ” ë‘ íŠ¸ëœì­ì…˜ ì¤‘ ì–´ë–¤ íŠ¸ëœì­ì…˜ì´ ë¨¼ì € ì»¤ë°‹ë˜ëŠëƒì— ë”°ë¼ ë‹¬ë¼ì§€ê² ì§€ë§Œ, ë™ì‹œì„± ì´ìŠˆê°€ í•´ê²°ë˜ê³  ë„ë©”ì¸ì˜ ì¼ê´€ì„±ì´ ë³´í˜¸ë˜ëŠ” ëª¨ìŠµì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤ ğŸ™‚</p>\n<h2>ì°¸ê³ </h2>\n<ul>\n<li>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°, ê¹€ì˜í•œ</li>\n</ul>","frontmatter":{"title":"JPAì˜ ë‚™ê´€ì  ë½ì„ ì‚¬ìš©í•œ ë™ì‹œì„± ì´ìŠˆ í•´ê²°","date":"November 06, 2022","update":null,"tags":["ë™ì‹œì„±","JPA","íŠ¸ëŸ¬ë¸”ìŠˆíŒ…"],"series":null},"fields":{"slug":"/troubleshooting-of-category-role-concurrency-issue/","readingTime":{"minutes":13.115}}},"seriesList":{"edges":[{"node":{"id":"a621dc7b-8590-5ec6-9b52-3d9e5182486d","fields":{"slug":"/appearance-background-of-jpa/"},"frontmatter":{"title":"JPA ë“±ì¥ë°°ê²½"}}},{"node":{"id":"9d2a87b6-2b9c-5b87-b790-3426d17c2d8e","fields":{"slug":"/intellij-final-keyword/"},"frontmatter":{"title":"IntelliJì—ì„œ ë©”ì†Œë“œ ì¶”ì¶œí•œ ë©”ì†Œë“œì˜ íŒŒë¼ë¯¸í„°ì— final í‚¤ì›Œë“œ ìë™ ì¶”ê°€í•˜ê¸°"}}},{"node":{"id":"251e9767-1c92-5cf5-9cef-2c4a42c10df2","fields":{"slug":"/git-branch-strategy/"},"frontmatter":{"title":"ë‹¬ë¡íŒ€ì˜ git ë¸Œëœì¹˜ ì „ëµì„ ì†Œê°œí•©ë‹ˆë‹¤."}}},{"node":{"id":"5090cce3-0c1f-5376-badc-1d25e44c1bd9","fields":{"slug":"/infinite-scroll/"},"frontmatter":{"title":"Reactì—ì„œ ë¬´í•œ ìŠ¤í¬ë¡¤ êµ¬í˜„í•˜ê¸°"}}},{"node":{"id":"bcb53ba5-0286-5d10-96c2-fdcb88e2cc60","fields":{"slug":"/package-structure/"},"frontmatter":{"title":"ë‹¬ë¡ì— ì ì ˆí•œ íŒ¨í‚¤ì§€ êµ¬ì¡° ê³ ë¯¼í•˜ê¸°"}}},{"node":{"id":"a7fc89de-f37c-596e-a81d-3d4fe5a795b8","fields":{"slug":"/data-jpa-slice-page/"},"frontmatter":{"title":"Spring Data JPAì˜ Slice & Page"}}},{"node":{"id":"e1ba92ee-0cf0-50c8-80bd-5da5075df8d1","fields":{"slug":"/data-jpa-auditing/"},"frontmatter":{"title":"Spring Data JPAì˜ Auditing"}}},{"node":{"id":"3e036508-c916-504e-9e8d-89f69332471e","fields":{"slug":"/separated-interface/"},"frontmatter":{"title":"ì™¸ë¶€ì™€ ì˜ì¡´ì„± ë¶„ë¦¬í•˜ê¸°"}}},{"node":{"id":"cade544a-16ef-58a3-b97c-824986a8395f","fields":{"slug":"/apply-rest-docs/"},"frontmatter":{"title":"MockMvcë¥¼ ì‚¬ìš©í•œ Spring RestDocs"}}},{"node":{"id":"87649d54-d59e-58a6-afd5-8491eb4113a8","fields":{"slug":"/properties-to-object/"},"frontmatter":{"title":"properties ê°ì²´ë¡œ ë‹¤ë£¨ê¸°"}}},{"node":{"id":"eb380f6d-5a00-5a9e-a916-003fb292cc8a","fields":{"slug":"/test-fixture-constant/"},"frontmatter":{"title":"í…ŒìŠ¤íŠ¸ì—ì„œ Entity ê°ì²´ë¥¼ ìƒìˆ˜ë¡œ ë‘ë©´ ì•ˆ ë˜ëŠ” ì´ìœ "}}},{"node":{"id":"9734e30a-b430-5922-919d-f53808a56eb9","fields":{"slug":"/what_is_nginx/"},"frontmatter":{"title":"NGINX ë€?"}}},{"node":{"id":"9ebc6e21-2a76-5d42-be33-c2dae8c849b2","fields":{"slug":"/ssl_protocol/"},"frontmatter":{"title":"SSLì„ í†µí•œ HTTPSí†µì‹  ê³¼ì •"}}},{"node":{"id":"fa5ad595-1f81-5a20-a884-2da69adee3c5","fields":{"slug":"/integration-test-slice-test/"},"frontmatter":{"title":"í†µí•© í…ŒìŠ¤íŠ¸ì™€ ìŠ¬ë¼ì´ìŠ¤ í…ŒìŠ¤íŠ¸"}}},{"node":{"id":"d8c66823-bb05-5e83-a6a1-2fd9af450b6f","fields":{"slug":"/query-invalidation/"},"frontmatter":{"title":"React-Queryì—ì„œì˜ ë°ì´í„° ìµœì‹ í™” (Query Invalidation)"}}},{"node":{"id":"f5187517-342f-52a1-9092-d12c1a80d132","fields":{"slug":"/seperate-components/"},"frontmatter":{"title":"ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ê¸°ì¤€"}}},{"node":{"id":"d6249c8b-bea6-5c91-8477-d3dd15ad9b39","fields":{"slug":"/test-isolation/"},"frontmatter":{"title":"í…ŒìŠ¤íŠ¸ ê²©ë¦¬"}}},{"node":{"id":"98e390ef-fb19-5d01-a3ef-d14bc0e65176","fields":{"slug":"/dallog-jacoco/"},"frontmatter":{"title":"ë‹¬ë¡ì˜ Jacoco ì ìš©ê¸° (feat. Gradle)"}}},{"node":{"id":"33d19946-de0c-5b41-bfa0-d7c3fd80f10b","fields":{"slug":"/google-refresh-token/"},"frontmatter":{"title":"Googleì€ Refresh Tokenì„ ì‰½ê²Œ ë‚´ì£¼ì§€ ì•ŠëŠ”ë‹¤."}}},{"node":{"id":"8168857d-a82c-5608-bd40-cea4b917d17d","fields":{"slug":"/submodule/"},"frontmatter":{"title":"ë‹¬ë¡ ì„œë¸Œëª¨ë“ˆ ë„ì…ê¸°"}}},{"node":{"id":"836fc724-7e2f-5c7a-a42b-c0cc9163167a","fields":{"slug":"/dallog-flyway/"},"frontmatter":{"title":"ë‹¬ë¡ì˜ ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìœ„í•œ Flyway ì ìš©ê¸°"}}},{"node":{"id":"7a3bde6d-746b-56fd-8d91-0d8059ebf1f8","fields":{"slug":"/json-property-json-naming/"},"frontmatter":{"title":"@JsonProperty, @JsonNaming"}}},{"node":{"id":"50673f5c-f835-5982-b70c-b77e5a352a2c","fields":{"slug":"/servlet-life-cycle/"},"frontmatter":{"title":"ì„œë¸”ë¦¿ ìƒëª…ì£¼ê¸°ì™€ ì§ì ‘ë§Œë“  í†°ìº£ì„ í†µí•œ ì˜ë¬¸ì "}}},{"node":{"id":"61e7f4d1-7b3a-5968-bfe8-c3f6efb88748","fields":{"slug":"/preparing-for-performance-test/"},"frontmatter":{"title":"í†°ìº£ íŠœë‹ì„ ìœ„í•œ ë‹¬ë¡ì˜ ì„œë²„ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ê³¼ì •"}}},{"node":{"id":"9272061d-68c6-5f82-a961-0e2efe0fd6be","fields":{"slug":"/cyclic-dependency/"},"frontmatter":{"title":"cyclic dependency"}}},{"node":{"id":"6e779308-f266-58af-bfcc-e9fee6d39a98","fields":{"slug":"/multi-datasource-issue-with-osiv/"},"frontmatter":{"title":"ëŒ€ì²´ ì™œ DataSource ë¼ìš°íŒ…ì´ ì•ˆë˜ëŠ”ê±°ì•¼!? (feat. OSIV)"}}},{"node":{"id":"c7bea043-345c-5f78-ae53-796a83812961","fields":{"slug":"/react-query-useMutation-trouble-shooting/"},"frontmatter":{"title":"react-query useMutation onSuccess ì•ˆ ë˜ëŠ”ì¤„ ì•Œì•˜ë˜ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…"}}},{"node":{"id":"cf403487-1c48-5ca7-b5c2-ef0d8fefe3c4","fields":{"slug":"/jenkins-distributed-build-architecture/"},"frontmatter":{"title":"ì  í‚¨ìŠ¤ ë¶„ì‚° ë¹Œë“œ ì•„í‚¤í…ì²˜ êµ¬ì¶•"}}},{"node":{"id":"24c152c7-4e94-5b84-aaea-a5a9a8357693","fields":{"slug":"/zero-downtime-deployment/"},"frontmatter":{"title":"ë‹¬ë¡ ë¬´ì¤‘ë‹¨ ë°°í¬ ë„ì…ê¸°"}}},{"node":{"id":"623f9105-974d-51b9-84c7-f6298a8d1c19","fields":{"slug":"/get-valid-accessToken/"},"frontmatter":{"title":"refreshTokenìœ¼ë¡œ accessToken ì¬ë°œê¸‰í•˜ê¸°"}}},{"node":{"id":"d34299f0-eb49-5aef-a38f-963200d5fd6d","fields":{"slug":"/test-readability/"},"frontmatter":{"title":"ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ê°€ë…ì„±ì„ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œ??"}}},{"node":{"id":"fe27c1ec-d040-5cf4-934a-a5eeb2131dfb","fields":{"slug":"/troubleshooting-of-category-role-concurrency-issue/"},"frontmatter":{"title":"JPAì˜ ë‚™ê´€ì  ë½ì„ ì‚¬ìš©í•œ ë™ì‹œì„± ì´ìŠˆ í•´ê²°"}}}]},"previous":{"fields":{"slug":"/test-readability/"},"frontmatter":{"title":"ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ê°€ë…ì„±ì„ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œ??"}},"next":null},"pageContext":{"id":"fe27c1ec-d040-5cf4-934a-a5eeb2131dfb","series":null,"previousPostId":"d34299f0-eb49-5aef-a38f-963200d5fd6d","nextPostId":null}},"staticQueryHashes":[]}